"use strict";(self.webpackChunk_vkumov_react_cui_2_0=self.webpackChunk_vkumov_react_cui_2_0||[]).push([[9239],{"./src/ContextMenu/ContextMenu.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Example:()=>Example,default:()=>ContextMenu_stories});var objectSpread2=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),react=__webpack_require__("./node_modules/react/index.js"),defineProperty=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),regeneratorRuntime=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js"),asyncToGenerator=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),slicedToArray=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),floating_ui_react_esm=__webpack_require__("./node_modules/@floating-ui/react/dist/floating-ui.react.esm.js"),floating_ui_core_browser_min=__webpack_require__("./node_modules/@floating-ui/core/dist/floating-ui.core.browser.min.mjs"),floating_ui_dom_browser_min=__webpack_require__("./node_modules/@floating-ui/dom/dist/floating-ui.dom.browser.min.mjs"),classnames=__webpack_require__("./node_modules/classnames/index.js"),classnames_default=__webpack_require__.n(classnames),Transition=__webpack_require__("./node_modules/react-transition-group/esm/Transition.js"),useEvent=__webpack_require__("./node_modules/react-use-event-hook/dist/esm/useEvent.js"),FloatingProvider=__webpack_require__("./src/FloatingProvider/index.ts"),Dropdown_module=__webpack_require__("./src/Dropdown/Dropdown.module.scss"),ContextMenuInner=function ContextMenuInner(_ref){var contextMenuRef=_ref.contextMenuRef,onContextMenu=_ref.onContextMenu,children=_ref.children,_useState=(0,react.useState)(!1),_useState2=(0,slicedToArray.Z)(_useState,2),open=_useState2[0],setOpen=_useState2[1],_useState3=(0,react.useState)(null),_useState4=(0,slicedToArray.Z)(_useState3,2),activeIndex=_useState4[0],setActiveIndex=_useState4[1],listItemsRef=(0,react.useRef)([]),listContentRef=(0,react.useRef)(react.Children.map(children,(function(child){return(0,react.isValidElement)(child)?child.props.label:null}))),tree=(0,floating_ui_react_esm.ay)(),nodeId=(0,floating_ui_react_esm.jV)(),parentId=(0,floating_ui_react_esm.Zm)(),_useFloating=(0,floating_ui_react_esm.YF)({open,onOpenChange:setOpen,middleware:[(0,floating_ui_core_browser_min.cv)({mainAxis:5,alignmentAxis:4}),(0,floating_ui_core_browser_min.RR)({padding:{bottom:50}}),(0,floating_ui_core_browser_min.uY)()],placement:"right-start",strategy:"fixed",whileElementsMounted:floating_ui_dom_browser_min.Me,nodeId}),x=_useFloating.x,y=_useFloating.y,refs=_useFloating.refs,strategy=_useFloating.strategy,context=_useFloating.context,_useInteractions=(0,floating_ui_react_esm.NI)([(0,floating_ui_react_esm.qs)(context,{role:"menu"}),(0,floating_ui_react_esm.bQ)(context,{bubbles:!1}),(0,floating_ui_react_esm.c0)(context,{listRef:listItemsRef,activeIndex,nested:!1,onNavigate:setActiveIndex}),(0,floating_ui_react_esm.ox)(context,{listRef:listContentRef,onMatch:open?setActiveIndex:void 0,activeIndex})]),getFloatingProps=_useInteractions.getFloatingProps,getItemProps=_useInteractions.getItemProps,onRightClick=(0,useEvent.Z)((function(e){e.preventDefault();var pos={x:e.clientX,y:e.clientY,width:0,height:0,top:e.clientY,right:e.clientX,bottom:e.clientY,left:e.clientX},makePop=function makePop(){refs.setPositionReference({getBoundingClientRect:function getBoundingClientRect(){return pos}}),setOpen(!0)};if(onContextMenu){var awaitResult=function(){var _ref2=(0,asyncToGenerator.Z)((0,regeneratorRuntime.Z)().mark((function _callee(){return(0,regeneratorRuntime.Z)().wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,onContextMenu(e);case 2:if(!_context.sent){_context.next=4;break}makePop();case 4:case"end":return _context.stop()}}),_callee)})));return function awaitResult(){return _ref2.apply(this,arguments)}}();awaitResult()}else makePop()}));(0,react.useEffect)((function(){function onTreeClick(){setOpen(!1)}return null==tree||tree.events.on("click",onTreeClick),function(){null==tree||tree.events.off("click",onTreeClick)}}),[parentId,tree,refs]),(0,react.useEffect)((function(){if(contextMenuRef.current){var el=contextMenuRef.current;return el.addEventListener("contextmenu",onRightClick),function(){el.removeEventListener("contextmenu",onRightClick)}}}),[contextMenuRef,onRightClick]);var floatingNodeRef=(0,react.useRef)(null),mergedFloatingRef=(0,floating_ui_react_esm.qq)([floatingNodeRef,refs.setFloating]);return react.createElement(Transition.ZP,{in:open,mountOnEnter:!0,unmountOnExit:!0,appear:!0,timeout:{enter:100,exit:250},nodeRef:floatingNodeRef},(function(state){var _cx;return react.createElement(floating_ui_react_esm.wD,{context,initialFocus:refs.floating},react.createElement(floating_ui_react_esm.mN,{id:nodeId},react.createElement("div",getFloatingProps({className:classnames_default()("dropdown",Dropdown_module.Z.dropdown,(_cx={},(0,defineProperty.Z)(_cx,Dropdown_module.Z.disappear,"exiting"===state||"exited"===state),(0,defineProperty.Z)(_cx,Dropdown_module.Z.appear,"entering"===state),(0,defineProperty.Z)(_cx,Dropdown_module.Z.active,"entered"===state),_cx)),ref:mergedFloatingRef,style:{position:strategy,top:null!=y?y:0,left:null!=x?x:0}}),react.createElement("div",{className:"dropdown__menu",style:{position:"unset"}},react.Children.map(children,(function(child,index){return(0,react.isValidElement)(child)&&(0,react.cloneElement)(child,getItemProps({tabIndex:-1,role:"menuitem",className:"menu_item",ref:function ref(node){listItemsRef.current[index]=node},onClick:function onClick(e){child.props.onClick?child.props.onClick(e):null==tree||tree.events.emit("click")}}))}))))))}))},ContextMenu=function ContextMenu(_ref3){var children=_ref3.children,contextMenuRef=_ref3.contextMenuRef,onContextMenu=_ref3.onContextMenu,portalId=_ref3.portalId,_useFloatingContext=(0,FloatingProvider.i0)({portalId,fallbackPortalId:"--cui-context-menu-portal"}),root=_useFloatingContext.root,id=_useFloatingContext.id,tree=(0,floating_ui_react_esm.ay)();return react.createElement(FloatingProvider.D_,{withPortal:!tree,portalRoot:root,portalId:id},react.createElement(ContextMenuInner,{contextMenuRef,onContextMenu},children))};try{ContextMenu.displayName="ContextMenu",ContextMenu.__docgenInfo={description:"",displayName:"ContextMenu",props:{contextMenuRef:{defaultValue:null,description:"",name:"contextMenuRef",required:!0,type:{name:"MutableRefObject<HTMLElement>"}},onContextMenu:{defaultValue:null,description:"",name:"onContextMenu",required:!1,type:{name:"(e: MouseEvent) => boolean | Promise<boolean>"}},portalId:{defaultValue:null,description:"",name:"portalId",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/ContextMenu/ContextMenu.tsx#ContextMenu"]={docgenInfo:ContextMenu.__docgenInfo,name:"ContextMenu",path:"src/ContextMenu/ContextMenu.tsx#ContextMenu"})}catch(__react_docgen_typescript_loader_error){}var _Example$parameters,_Example$parameters2,_Example$parameters2$,Dropdown=__webpack_require__("./src/Dropdown/index.ts"),Panel=__webpack_require__("./src/Panel/index.ts");const ContextMenu_stories={title:"Components/ContextMenu",component:ContextMenu,parameters:{docs:{source:{language:"tsx"}}},excludeStories:["Primary"]};var Example=function Example(){var pRef=(0,react.useRef)(null);return react.createElement(react.Fragment,null,react.createElement(Panel.s,{bordered:!0,style:{width:"300px",height:"150px"},padding:"loose",ref:pRef},"Right click on me!"),react.createElement(ContextMenu,{contextMenuRef:pRef},react.createElement(Dropdown.FY,null,"Item one"),react.createElement(Dropdown.FY,null,"Item two"),react.createElement(Dropdown.FY,{selected:!0},"Item three"),react.createElement(Dropdown.R,null),react.createElement(Dropdown.kS,{header:"Group"},react.createElement(Dropdown.FY,null,"Item one"),react.createElement(Dropdown.FY,null,"Item two")),react.createElement(Dropdown.FY,{icon:"icon-social-facebook"},"Facebook"),react.createElement(Dropdown.FY,{icon:"icon-social-twitter"},"Twitter"),react.createElement(Dropdown.R,null),react.createElement(Dropdown.v2,{label:"And with sub menu"},react.createElement(Dropdown.FY,null,"Item one"),react.createElement(Dropdown.FY,null,"Item two"),react.createElement(Dropdown.FY,{selected:!0},"Item three"))))};Example.parameters=(0,objectSpread2.Z)((0,objectSpread2.Z)({},Example.parameters),{},{docs:(0,objectSpread2.Z)((0,objectSpread2.Z)({},null===(_Example$parameters=Example.parameters)||void 0===_Example$parameters?void 0:_Example$parameters.docs),{},{source:(0,objectSpread2.Z)({originalSource:'() => {\n  const pRef = useRef<HTMLDivElement | null>(null);\n  return <>\n      <Panel bordered style={{\n      width: "300px",\n      height: "150px"\n    }} padding="loose" ref={pRef}>\n        Right click on me!\n      </Panel>\n      <ContextMenu contextMenuRef={pRef}>\n        <MenuElement>Item one</MenuElement>\n        <MenuElement>Item two</MenuElement>\n        <MenuElement selected>Item three</MenuElement>\n        <MenuDivider />\n        <MenuGroup header="Group">\n          <MenuElement>Item one</MenuElement>\n          <MenuElement>Item two</MenuElement>\n        </MenuGroup>\n        <MenuElement icon="icon-social-facebook">Facebook</MenuElement>\n        <MenuElement icon="icon-social-twitter">Twitter</MenuElement>\n        <MenuDivider />\n        <Menu label="And with sub menu">\n          <MenuElement>Item one</MenuElement>\n          <MenuElement>Item two</MenuElement>\n          <MenuElement selected>Item three</MenuElement>\n        </Menu>\n      </ContextMenu>\n    </>;\n}'},null===(_Example$parameters2=Example.parameters)||void 0===_Example$parameters2||null===(_Example$parameters2$=_Example$parameters2.docs)||void 0===_Example$parameters2$?void 0:_Example$parameters2$.source)})});try{Example.displayName="Example",Example.__docgenInfo={description:"",displayName:"Example",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/ContextMenu/ContextMenu.stories.tsx#Example"]={docgenInfo:Example.__docgenInfo,name:"Example",path:"src/ContextMenu/ContextMenu.stories.tsx#Example"})}catch(__react_docgen_typescript_loader_error){}},"./src/Panel/index.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{s:()=>Panel});var objectWithoutProperties=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),react=__webpack_require__("./node_modules/react/index.js"),utils=__webpack_require__("./src/utils/index.ts"),injectStylesIntoStyleTag=__webpack_require__("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),injectStylesIntoStyleTag_default=__webpack_require__.n(injectStylesIntoStyleTag),styleDomAPI=__webpack_require__("./node_modules/style-loader/dist/runtime/styleDomAPI.js"),styleDomAPI_default=__webpack_require__.n(styleDomAPI),insertBySelector=__webpack_require__("./node_modules/style-loader/dist/runtime/insertBySelector.js"),insertBySelector_default=__webpack_require__.n(insertBySelector),setAttributesWithoutAttributes=__webpack_require__("./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js"),setAttributesWithoutAttributes_default=__webpack_require__.n(setAttributesWithoutAttributes),insertStyleElement=__webpack_require__("./node_modules/style-loader/dist/runtime/insertStyleElement.js"),insertStyleElement_default=__webpack_require__.n(insertStyleElement),styleTagTransform=__webpack_require__("./node_modules/style-loader/dist/runtime/styleTagTransform.js"),styleTagTransform_default=__webpack_require__.n(styleTagTransform),panel=__webpack_require__("./node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[8].use[1]!./css/panel.css"),options={};options.styleTagTransform=styleTagTransform_default(),options.setAttributes=setAttributesWithoutAttributes_default(),options.insert=insertBySelector_default().bind(null,"head"),options.domAPI=styleDomAPI_default(),options.insertStyleElement=insertStyleElement_default();injectStylesIntoStyleTag_default()(panel.Z,options);panel.Z&&panel.Z.locals&&panel.Z.locals;var _excluded=["color","padding","bordered","raised","well","className"],Panel=react.forwardRef((function(_ref,ref){var _ref$color=_ref.color,color=void 0===_ref$color?"plain":_ref$color,_ref$padding=_ref.padding,padding=void 0===_ref$padding?"default":_ref$padding,_ref$bordered=_ref.bordered,bordered=void 0!==_ref$bordered&&_ref$bordered,_ref$raised=_ref.raised,raised=void 0!==_ref$raised&&_ref$raised,_ref$well=_ref.well,well=void 0!==_ref$well&&_ref$well,_ref$className=_ref.className,className=void 0===_ref$className?null:_ref$className,props=(0,objectWithoutProperties.Z)(_ref,_excluded);return react.createElement("div",Object.assign({className:"panel".concat((0,utils.T)("plain"!==color,"panel--".concat(color))).concat((0,utils.T)("default"!==padding,"panel--".concat(padding))).concat((0,utils.T)(bordered,(function(){return"string"==typeof bordered?"panel--bordered-".concat(bordered):Array.isArray(bordered)?bordered.map((function(b){return"panel--bordered-".concat(b)})).join(" "):"panel--bordered"}))).concat((0,utils.T)(raised,"panel--raised")).concat((0,utils.T)(well,"panel--well")).concat((0,utils.T)(className)),ref},props))}));try{Panel.displayName="Panel",Panel.__docgenInfo={description:"",displayName:"Panel",props:{color:{defaultValue:{value:"plain"},description:"",name:"color",required:!1,type:{name:"enum",value:[{value:'"primary"'},{value:'"secondary"'},{value:'"success"'},{value:'"dark"'},{value:'"tertiary"'},{value:'"info"'},{value:'"warning-alt"'},{value:'"warning"'},{value:'"danger"'},{value:'"plain"'},{value:'"light"'},{value:'"lightest"'}]}},padding:{defaultValue:{value:"default"},description:"",name:"padding",required:!1,type:{name:"enum",value:[{value:'"default"'},{value:'"compressed"'},{value:'"loose"'},{value:'"none"'}]}},bordered:{defaultValue:{value:"false"},description:"",name:"bordered",required:!1,type:{name:"boolean | Borders | Borders[]"}},raised:{defaultValue:{value:"false"},description:"",name:"raised",required:!1,type:{name:"boolean"}},well:{defaultValue:{value:"false"},description:"",name:"well",required:!1,type:{name:"boolean"}},className:{defaultValue:{value:"null"},description:"",name:"className",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/Panel/Panel.tsx#Panel"]={docgenInfo:Panel.__docgenInfo,name:"Panel",path:"src/Panel/Panel.tsx#Panel"})}catch(__react_docgen_typescript_loader_error){}},"./node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[8].use[1]!./css/panel.css":(module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/css-loader/dist/runtime/sourceMaps.js"),_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__),_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js"),___CSS_LOADER_EXPORT___=__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__)()(_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default());___CSS_LOADER_EXPORT___.push([module.id,".cui .panel.panel--lightest {\n  background-color: var(--cui-background-alt);\n  color: var(--cui-inactive-color);\n}\n","",{version:3,sources:["webpack://./css/panel.css"],names:[],mappings:"AAAA;EACE,2CAA2C;EAC3C,gCAAgC;AAClC",sourcesContent:[".cui .panel.panel--lightest {\n  background-color: var(--cui-background-alt);\n  color: var(--cui-inactive-color);\n}\n"],sourceRoot:""}]);const __WEBPACK_DEFAULT_EXPORT__=___CSS_LOADER_EXPORT___}}]);