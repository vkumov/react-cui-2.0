{"version":3,"file":"index.js","sources":["../../src/Radio/Radio.tsx"],"sourcesContent":["import React, {\n  ChangeEvent,\n  FC,\n  forwardRef,\n  HTMLProps,\n  ReactNode,\n  useCallback,\n  useEffect,\n  useState,\n} from \"react\";\n\nimport { appendClass as ac } from \"src/utils\";\n\ninterface RadioProps extends Omit<HTMLProps<HTMLInputElement>, \"label\"> {\n  spacing?: \"compressed\" | \"regular\" | \"loose\" | \"nospacing\";\n  inline?: boolean;\n  label?: ReactNode;\n  className?: string;\n  id?: string;\n  divProps?: HTMLProps<HTMLDivElement>;\n}\n\nexport const Radio = forwardRef<HTMLInputElement, RadioProps>(\n  (\n    {\n      spacing = null,\n      inline = false,\n      label = null,\n      className = null,\n      id,\n      divProps = {},\n      ...input\n    },\n    forwardedRef\n  ) => (\n    <div\n      className={`form-group${ac(inline, \"form-group--inline\")}${ac(\n        spacing,\n        `form-group--${spacing}`\n      )}${ac(className)}`}\n      {...divProps}\n    >\n      <label className=\"radio\" htmlFor={id || input.name}>\n        <input type=\"radio\" id={id} {...input} ref={forwardedRef} />\n        <span className=\"radio__input\" />\n        {label ? <span className=\"radio__label\">{label}</span> : null}\n      </label>\n    </div>\n  )\n);\n\ninterface RadioValue {\n  value: string;\n  label: ReactNode;\n}\n\ninterface RadiosProps {\n  values: RadioValue[];\n  value?: string;\n  onChange?: (value: string) => void;\n  name: string;\n}\n\nexport const Radios: FC<RadiosProps> = ({\n  values,\n  value: initialValue,\n  onChange,\n  name,\n}) => {\n  const [value, setValue] = useState(initialValue);\n  useEffect(() => {\n    setValue(initialValue);\n  }, [initialValue]);\n\n  const onRadioChange = useCallback(\n    (e: ChangeEvent<HTMLInputElement>) => {\n      e.persist();\n      setValue((curr) => {\n        let v: string;\n        if (e.target.checked) v = e.target.value;\n        else v = curr;\n        if (typeof onChange === \"function\") onChange(v);\n        return v;\n      });\n    },\n    [onChange]\n  );\n\n  return (\n    <>\n      {values.map((v, idx) => (\n        <Radio\n          id={v.value}\n          label={v.label}\n          key={v.value}\n          name={`${name}.${idx}`}\n          onChange={onRadioChange}\n          checked={value === v.value}\n        />\n      ))}\n    </>\n  );\n};\n"],"names":["Radio","forwardRef","forwardedRef","spacing","inline","label","className","id","divProps","input","div","ac","htmlFor","name","type","ref","span","Radios","values","initialValue","value","onChange","useState","setValue","useEffect","onRadioChange","useCallback","e","persist","curr","v","target","checked","map","idx","key"],"mappings":"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"}