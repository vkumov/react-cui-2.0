{"version":3,"file":"creatable.js","sources":["../../src/ReactSelect/components.tsx","../../src/ReactSelect/ReactSelectCreatable.tsx"],"sourcesContent":["import React from \"react\";\nimport type {\n  GroupHeadingProps,\n  GroupProps,\n  MultiValueGenericProps,\n  MultiValueRemoveProps,\n} from \"react-select\";\n\nimport type { LabelColor } from \"src/Label\";\nimport { appendClass } from \"src/utils\";\n\nexport const MultiValueContainer = (\n  props: MultiValueGenericProps<any>\n): JSX.Element => {\n  const color: LabelColor =\n    (props.selectProps as any).multiValueColor || \"primary\";\n  return (\n    <div\n      className={`label label--${color} label--small${appendClass(\n        props.innerProps?.className\n      )}`}\n    >\n      {props.children}\n    </div>\n  );\n};\n\nexport const MultiValueLabel = (props: MultiValueGenericProps): JSX.Element => {\n  return <span>{props.children}</span>;\n};\n\nexport const MultiValueRemove = ({\n  innerProps: { className, ...props },\n}: MultiValueRemoveProps): JSX.Element => {\n  return <span className=\"icon-close\" {...props} />;\n};\n\nexport function Group<Option = unknown, IsMulti extends boolean = boolean>({\n  className,\n  children,\n  Heading,\n  headingProps,\n  innerProps,\n  ...props\n}: GroupProps<Option, IsMulti>) {\n  return (\n    <div className={`dropdown__group${appendClass(className)}`} {...innerProps}>\n      <Heading {...props} id={headingProps.id}>\n        {headingProps.data.label}\n      </Heading>\n      {children}\n    </div>\n  );\n}\n\nexport function GroupHeading<\n  Option = unknown,\n  IsMulti extends boolean = boolean\n>({ className, children, ...props }: GroupHeadingProps<Option, IsMulti>) {\n  return (\n    <div className={`dropdown__group-header${appendClass(className)}`}>\n      {children}\n    </div>\n  );\n}\n","import React, { forwardRef, type ReactNode, type Ref } from \"react\";\nimport cx from \"classnames\";\nimport CreatableSelect, { type CreatableProps } from \"react-select/creatable\";\nimport type SelectGeneric from \"react-select/dist/declarations/src/Select\";\nimport type { GroupBase } from \"react-select/dist/declarations/src/types\";\n\nimport { InputHelpBlock } from \"src/InputHelp\";\nimport type { LabelColor } from \"src/Label\";\n\nimport \"../../css/react-select.css\";\nimport sts from \"./Select.module.scss\";\nimport {\n  Group as GroupComponent,\n  GroupHeading,\n  MultiValueContainer,\n  MultiValueLabel,\n  MultiValueRemove,\n} from \"./components\";\n\ntype CUISelectProps = {\n  label?: ReactNode;\n  multiValueColor?: LabelColor;\n  error?: ReactNode | boolean;\n};\n\nexport type CreatableReactSelectProps<\n  Option = unknown,\n  IsMulti extends boolean = boolean,\n  Group extends GroupBase<Option> = GroupBase<Option>\n> = CreatableProps<Option, IsMulti, Group> & CUISelectProps;\n\nfunction UnrefedSelect<\n  Option = unknown,\n  IsMulti extends boolean = false,\n  Group extends GroupBase<Option> = GroupBase<Option>\n>(\n  {\n    label = null,\n    className,\n    error,\n    ...props\n  }: CreatableReactSelectProps<Option, IsMulti, Group>,\n  ref: Ref<SelectGeneric<Option, IsMulti, Group>>\n): JSX.Element {\n  return (\n    <div\n      className={cx(\"form-group\", className, {\n        \"form-group--error\": error,\n        [sts.multi_select]: props.isMulti,\n      })}\n    >\n      {label && <label>{label}</label>}\n      <CreatableSelect\n        className=\"react-select-container qtr-margin-top\"\n        classNamePrefix=\"react-select\"\n        components={{\n          MultiValueContainer,\n          MultiValueLabel,\n          MultiValueRemove,\n          Group: GroupComponent,\n          GroupHeading,\n        }}\n        formatCreateLabel={(inputValue: string) => (\n          <>\n            {props.isMulti ? \"Add \" : \"Use \"}\n            <span className=\"text-bold\">{inputValue}</span>\n          </>\n        )}\n        {...props}\n        ref={ref}\n      />\n      {Boolean(error) && typeof error !== \"boolean\" ? (\n        <InputHelpBlock text={error} />\n      ) : null}\n    </div>\n  );\n}\n\nexport const CreatableReactSelect = forwardRef(UnrefedSelect) as <\n  Option = unknown,\n  IsMulti extends boolean = false,\n  Group extends GroupBase<Option> = GroupBase<Option>\n>(\n  props: CreatableReactSelectProps<Option, IsMulti, Group> & {\n    ref?: React.ForwardedRef<SelectGeneric<Option, IsMulti, Group>>;\n  }\n) => ReturnType<typeof UnrefedSelect>;\n"],"names":["_extends","MultiValueContainer","props","color","selectProps","multiValueColor","React","div","className","appendClass","innerProps","children","MultiValueLabel","createElement","span","MultiValueRemove","Group","Heading","headingProps","id","data","label","GroupHeading","UnrefedSelect","ref","error","cx","sts","multi_select","isMulti","CreatableSelect","classNamePrefix","components","GroupComponent","formatCreateLabel","inputValue","Boolean","InputHelpBlock","text","CreatableReactSelect","forwardRef"],"mappings":"qoCAAA,SAAAA,YAAA,qQAWO,IAAMC,oBAAsB,SACjCC,MACgB,CAMVA,IAAAA,IALN,IAAMC,MACJD,MAAOE,WAAW,CAASC,eAAe,EAAI,UAChD,OACEC,MAACC,aAAAA,CAAAA,MAAAA,CACCC,UAAW,AAAC,gBAAoCC,OAArBN,MAAM,iBAE/B,OAF8CM,YAC9CP,AAAAA,CAAAA,IAAAA,MAAMQ,UAAU,AAAA,UAAhBR,MAAAA,KAAAA,EAAAA,KAAAA,EAAAA,IAAkBM,SAAS,EAG5BN,EAAAA,MAAMS,QAAQ,CAGrB,EAEO,IAAMC,gBAAkB,SAACV,MAA+C,CAC7E,OAAOI,MAAAO,aAAA,CAACC,OAAMZ,IAAAA,CAAAA,MAAMS,QAAQ,CAC9B,EAEO,IAAMI,iBAAmB,gBAEU,KADxCL,AAAcF,iBAAdE,WAAcF,UAAcN,sCAA5BQ,YAAcF,cAEd,OAAOF,MAACQ,aAAAA,CAAAA,OAAAA,WAAAA,CAAKN,UAAU,YAAiBN,EAAAA,OAC1C,EAEO,SAASc,MAA2D,OAO3C,KAN9BR,UADyE,OACzEA,UACAG,SAFyE,OAEzEA,SACAM,QAHyE,OAGzEA,QACAC,aAJyE,OAIzEA,aACAR,WALyE,OAKzEA,WACGR,+BANsE,QACzEM,YACAG,WACAM,UACAC,eACAR,eAGA,OACEJ,MAACC,aAAAA,CAAAA,MAAAA,WAAAA,CAAIC,UAAW,AAAC,kBAAwC,OAAvBC,YAAYD,WAAkBE,EAAAA,YAC9DJ,oBAACW,QAAYf,WAAAA,CAAAA,EAAAA,MAAAA,CAAOiB,GAAID,aAAaC,EAAE,GACpCD,aAAaE,IAAI,CAACC,KAAK,EAEzBV,SAGP,CAEO,SAASW,aAGd,OAAuE,KAArEd,UAAF,OAAEA,UAAWG,SAAb,OAAaA,SAAaT,+BAA1B,QAAEM,YAAWG,aACb,OACEL,MAACC,aAAAA,CAAAA,MAAAA,CAAIC,UAAW,AAAC,yBAA+C,OAAvBC,YAAYD,WAClDG,EAAAA,SAGP,CChEA,SAAAX,UAAA,iQA+BA,SAASuB,cAKP,OAMAC,GAA+C,CAClC,YAPb,OACEH,MAAAA,sBAAQ,IAAI,QACZb,UAFF,OAEEA,UACAiB,MAHF,OAGEA,MACGvB,+BAJL,QACEmB,QACAb,YACAiB,UAKF,OACEnB,MAACC,aAAAA,CAAAA,MAAAA,CACCC,UAAWkB,GAAG,aAAclB,UAE1B,iBADA,oBAAqBiB,OACpBE,IAAIC,YAAY,CAAG1B,MAAM2B,OAAO,IAGlCR,OAASf,MAAAO,aAAA,CAACQ,QAAOA,IAAAA,CAAAA,OAClBf,MAACwB,aAAAA,CAAAA,gBAAAA,SAAAA,CACCtB,UAAU,wCACVuB,gBAAgB,eAChBC,WAAY,CACV/B,oBAAAA,oBACAW,gBAAAA,gBACAG,iBAAAA,iBACAC,MAAOiB,MACPX,aAAAA,YACF,EACAY,kBAAmB,SAACC,mBAClB7B,MACGJ,aAAAA,CAAAA,MAAAA,QAAAA,CAAAA,IAAAA,CAAAA,MAAM2B,OAAO,CAAG,OAAS,MAAM,CAChCvB,MAACQ,aAAAA,CAAAA,OAAAA,CAAKN,UAAU,WAAa2B,EAAAA,aAG7BjC,EAAAA,MAAAA,CACJsB,IAAKA,GAENY,IAAAA,QAAQX,QAAU,OAAOA,QAAU,UAClCnB,MAAC+B,aAAAA,CAAAA,eAAAA,CAAeC,KAAMb,QACpB,IAAI,CAGd,CAEO,IAAMc,qBAAuBC,WAAWjB"}