{"version":3,"file":"index.js","sources":["../../src/Table/GenericTable.tsx","../../src/Table/DefaultTablePagination.tsx","../../src/Table/Table.tsx"],"sourcesContent":["import React, { forwardRef, type FC, type HTMLProps } from \"react\";\n\nimport { ConditionalWrapper } from \"src/Conditional\";\nimport { appendClass as ac } from \"src/utils\";\n\nconst Wrapper = <div className=\"responsive-table\" />;\n\nexport type GenericTableProps = {\n  outerWrap?: boolean;\n  lined?: boolean;\n  bordered?: boolean;\n  striped?: boolean;\n  selectable?: boolean;\n  fixed?: boolean;\n  wrapped?: boolean;\n  compressed?: boolean;\n  loose?: boolean;\n} & Partial<HTMLProps<HTMLTableElement>>;\n\nexport const GenericTable: FC<GenericTableProps> = forwardRef<\n  HTMLTableElement,\n  GenericTableProps\n>(\n  (\n    {\n      outerWrap = true,\n      lined = false,\n      bordered = false,\n      striped = false,\n      selectable = false,\n      fixed = false,\n      wrapped = false,\n      compressed = false,\n      loose = false,\n      className = null,\n      ...props\n    },\n    forwardedRef\n  ) => (\n    <ConditionalWrapper condition={outerWrap} wrapper={Wrapper}>\n      <table\n        className={`table${ac(lined, \"table--lined\")}${ac(\n          bordered,\n          \"table--bordered\"\n        )}${ac(striped, \"table--striped\")}${ac(\n          selectable,\n          \"table--selectable\"\n        )}${ac(fixed, \"table--fixed\")}${ac(wrapped, \"table--wrapped\")}${ac(\n          compressed,\n          \"table--compressed\"\n        )}${ac(loose, \"table--loose\")}${ac(className)}`}\n        {...props}\n        ref={forwardedRef}\n      />\n    </ConditionalWrapper>\n  )\n);\n","import React, { FC, ReactNode } from \"react\";\n\nimport { Dropdown, MenuElement } from \"src/Dropdown\";\nimport { Pagination } from \"src/Pagination\";\n\ntype DefaultTablePaginationProps = {\n  total: number;\n  position: number;\n  onPageChange: (e, position: number) => void;\n  onPerPageChange: (value: number) => void;\n  perPageUp?: boolean;\n  paginationProps?: {\n    size?: \"small\" | \"default\" | \"large\";\n    rounded?: boolean;\n    icons?: boolean;\n    next?: ReactNode;\n    prev?: ReactNode;\n    firstAndLast?: boolean;\n  };\n};\n\nexport const DefaultTablePagination: FC<DefaultTablePaginationProps> = ({\n  perPageUp = false,\n  paginationProps = {},\n  total,\n  position,\n  onPageChange,\n  onPerPageChange,\n}) => {\n  const [perPage, setPerPage] = React.useState<number>(50);\n\n  React.useEffect(() => {\n    if (typeof onPerPageChange === \"function\") onPerPageChange(perPage);\n  }, [perPage, onPerPageChange]);\n\n  return (\n    <div className=\"flex-middle\">\n      <span className=\"qtr-margin-right\">Page:</span>\n      <Pagination\n        firstAndLast\n        icons\n        perPage={perPage}\n        total={total}\n        position={position}\n        onPageChange={onPageChange}\n        beginAt={0}\n        className=\"no-margin-top\"\n        {...paginationProps}\n      />\n      <span className=\"text-muted qtr-margin-left qtr-margin-right\">|</span>\n      <span className=\"qtr-margin-right\">Per page:</span>\n      <Dropdown\n        label={<a>{perPage}</a>}\n        alwaysClose\n        placement={perPageUp ? \"top\" : undefined}\n      >\n        {[10, 25, 50, 100, 250, 500].map((v) => (\n          <MenuElement\n            onClick={() => setPerPage(v)}\n            key={v}\n            selected={v === perPage}\n          >\n            {v}\n          </MenuElement>\n        ))}\n      </Dropdown>\n    </div>\n  );\n};\n","import React, { FC, ReactNode, forwardRef } from \"react\";\n\nimport { appendClass } from \"src/utils\";\n\nimport { DefaultTablePagination } from \"./DefaultTablePagination\";\nimport { GenericTable, GenericTableProps } from \"./GenericTable\";\n\nconst asArray = (v: unknown) => (Array.isArray(v) ? v : [v]);\n\ntype PaginationLocation =\n  | \"top-left\"\n  | \"bottom-left\"\n  | \"bottom-right\"\n  | \"top-right\";\n\ntype TableProps = {\n  pagination?: FC<any> | React.ComponentClass<any> | string;\n  paginationLocation?: PaginationLocation;\n  paginationProps?: {\n    size?: \"small\" | \"default\" | \"large\";\n    rounded?: boolean;\n    icons?: boolean;\n    next?: ReactNode;\n    prev?: ReactNode;\n    firstAndLast?: boolean;\n  };\n  data?: any[][];\n  children?: ReactNode;\n  start?: number;\n} & GenericTableProps;\n\nexport const Table: FC<TableProps> = forwardRef<HTMLTableElement, TableProps>(\n  (\n    {\n      pagination = DefaultTablePagination,\n      paginationLocation = \"bottom-right\",\n      paginationProps = {\n        icons: true,\n        firstAndLast: true,\n      },\n      data = null,\n      children = null,\n      start = 1,\n      ...props\n    },\n    forwardedRef\n  ) => {\n    const [position, setPosition] = React.useState(\n      typeof start === \"number\" ? start : 0\n    );\n    const [perPage, setPerPage] = React.useState(50);\n    const tbody = React.useMemo(\n      () =>\n        children\n          ? asArray(children).find((child) => child.type === \"tbody\")\n          : null,\n      [children]\n    );\n    const thead = React.useMemo(\n      () =>\n        children\n          ? asArray(children).find((child) => child.type === \"thead\")\n          : null,\n      [children]\n    );\n    const total = React.useMemo(\n      () => (data ? data.length : asArray(tbody.props.children).length) || 0,\n      [data, tbody]\n    );\n    React.useEffect(() => setPosition(0), [data, tbody]);\n\n    return (\n      <>\n        {Boolean(paginationLocation.includes(\"top-\")) && (\n          <div\n            className={`flex base-margin-bottom${appendClass(\n              paginationLocation === \"top-right\",\n              \"flex-right\"\n            )}`}\n          >\n            {React.createElement(pagination, {\n              total,\n              position,\n              onPageChange: (_, p) => setPosition(p),\n              onPerPageChange: (p) => setPerPage(p),\n              paginationProps,\n            })}\n          </div>\n        )}\n        <GenericTable {...props} ref={forwardedRef}>\n          {thead}\n          <tbody>\n            {data\n              ? data.slice(position, position + perPage).map((row, rid) => (\n                  <tr key={rid}>\n                    {row.map((col, cid) => (\n                      <td key={cid}>{col}</td>\n                    ))}\n                  </tr>\n                ))\n              : asArray(tbody.props.children).slice(\n                  position,\n                  position + perPage\n                )}\n          </tbody>\n        </GenericTable>\n        {Boolean(paginationLocation.includes(\"bottom-\")) && (\n          <div\n            className={`flex base-margin-top${appendClass(\n              paginationLocation === \"bottom-right\",\n              \"flex-right\"\n            )}`}\n          >\n            {React.createElement(pagination, {\n              total,\n              position,\n              onPageChange: (_, p) => setPosition(p),\n              onPerPageChange: (p) => setPerPage(p),\n              perPageUp: true,\n              paginationProps,\n            })}\n          </div>\n        )}\n      </>\n    );\n  }\n);\n"],"names":["Wrapper","React","GenericTable","forwardRef","outerWrap","lined","bordered","striped","selectable","fixed","wrapped","compressed","loose","className","props","forwardedRef","ConditionalWrapper","ac","DefaultTablePagination","perPageUp","paginationProps","total","position","onPageChange","onPerPageChange","perPage","setPerPage","Pagination","Dropdown","v","MenuElement","asArray","Table","pagination","paginationLocation","data","children","start","setPosition","tbody","child","thead","appendClass","_","p","row","rid","col","cid"],"mappings":"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"}