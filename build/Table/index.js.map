{"version":3,"file":"index.js","sources":["../../src/Table/GenericTable.tsx","../../src/Table/DefaultTablePagination.tsx","../../src/Table/Table.tsx"],"sourcesContent":["import React, { forwardRef, HTMLProps } from \"react\";\n\nimport { ConditionalWrapper } from \"src/Conditional\";\nimport { appendClass as ac } from \"src/utils\";\n\nconst Wrapper = <div className=\"responsive-table\" />;\n\nexport type GenericTableProps = {\n  outerWrap?: boolean;\n  lined?: boolean;\n  bordered?: boolean;\n  striped?: boolean;\n  selectable?: boolean;\n  fixed?: boolean;\n  wrapped?: boolean;\n  compressed?: boolean;\n  loose?: boolean;\n} & HTMLProps<HTMLTableElement>;\n\nexport const GenericTable = forwardRef<HTMLTableElement, GenericTableProps>(\n  (\n    {\n      outerWrap = true,\n      lined = false,\n      bordered = false,\n      striped = false,\n      selectable = false,\n      fixed = false,\n      wrapped = false,\n      compressed = false,\n      loose = false,\n      className = null,\n      ...props\n    },\n    forwardedRef\n  ) => (\n    <ConditionalWrapper condition={outerWrap} wrapper={Wrapper}>\n      <table\n        className={`table${ac(lined, \"table--lined\")}${ac(\n          bordered,\n          \"table--bordered\"\n        )}${ac(striped, \"table--striped\")}${ac(\n          selectable,\n          \"table--selectable\"\n        )}${ac(fixed, \"table--fixed\")}${ac(wrapped, \"table--wrapped\")}${ac(\n          compressed,\n          \"table--compressed\"\n        )}${ac(loose, \"table--loose\")}${ac(className)}`}\n        {...props}\n        ref={forwardedRef}\n      />\n    </ConditionalWrapper>\n  )\n);\n","import React, { FC, ReactNode } from \"react\";\n\nimport { Pagination } from \"src/Pagination\";\nimport { Dropdown } from \"src/Dropdown\";\n\ntype DefaultTablePaginationProps = {\n  total: number;\n  position: number;\n  onPageChange: (e, position: number) => void;\n  onPerPageChange: (value: number) => void;\n  perPageUp?: boolean;\n  paginationProps?: {\n    size?: \"small\" | \"default\" | \"large\";\n    rounded?: boolean;\n    icons?: boolean;\n    next?: ReactNode;\n    prev?: ReactNode;\n    firstAndLast?: boolean;\n  };\n};\n\nexport const DefaultTablePagination: FC<DefaultTablePaginationProps> = ({\n  perPageUp = false,\n  paginationProps = {},\n  total,\n  position,\n  onPageChange,\n  onPerPageChange,\n}) => {\n  const [perPage, setPerPage] = React.useState<number>(50);\n\n  React.useEffect(() => {\n    if (typeof onPerPageChange === \"function\") onPerPageChange(perPage);\n  }, [perPage, onPerPageChange]);\n\n  return (\n    <div className=\"flex-middle\">\n      <span className=\"qtr-margin-right\">Page:</span>\n      <Pagination\n        firstAndLast\n        icons\n        perPage={perPage}\n        total={total}\n        position={position}\n        onPageChange={onPageChange}\n        beginAt={0}\n        className=\"no-margin-top\"\n        {...paginationProps}\n      />\n      <span className=\"text-muted qtr-margin-left qtr-margin-right\">|</span>\n      <span className=\"qtr-margin-right\">Per page:</span>\n      <Dropdown\n        type=\"link\"\n        header={perPage}\n        openTo=\"left\"\n        alwaysClose\n        up={perPageUp}\n      >\n        {[10, 25, 50, 100, 250, 500].map((v) => (\n          <Dropdown.Element\n            onClick={() => setPerPage(v)}\n            key={v}\n            selected={v === perPage}\n          >\n            {v}\n          </Dropdown.Element>\n        ))}\n      </Dropdown>\n    </div>\n  );\n};\n","import React, { FC, forwardRef, ReactNode } from \"react\";\n\nimport { GenericTable, GenericTableProps } from \"./GenericTable\";\nimport { DefaultTablePagination } from \"./DefaultTablePagination\";\n\nimport { appendClass } from \"src/utils\";\n\nconst asArray = (v: unknown) => (Array.isArray(v) ? v : [v]);\n\ntype PaginationLocation =\n  | \"top-left\"\n  | \"bottom-left\"\n  | \"bottom-right\"\n  | \"top-right\";\n\ntype TableProps = {\n  pagination?: FC<any> | React.ComponentClass<any> | string;\n  paginationLocation?: PaginationLocation;\n  paginationProps?: {\n    size?: \"small\" | \"default\" | \"large\";\n    rounded?: boolean;\n    icons?: boolean;\n    next?: ReactNode;\n    prev?: ReactNode;\n    firstAndLast?: boolean;\n  };\n  data?: any[][];\n  children?: ReactNode;\n  start?: number;\n} & GenericTableProps;\n\nexport const Table: FC<TableProps> = forwardRef<HTMLTableElement, TableProps>(\n  (\n    {\n      pagination = DefaultTablePagination,\n      paginationLocation = \"bottom-right\",\n      paginationProps = {\n        icons: true,\n        firstAndLast: true,\n      },\n      data = null,\n      children = null,\n      start = 1,\n      ...props\n    },\n    forwardedRef\n  ) => {\n    const [position, setPosition] = React.useState(\n      typeof start === \"number\" ? start : 0\n    );\n    const [perPage, setPerPage] = React.useState(50);\n    const tbody = React.useMemo(\n      () =>\n        children\n          ? asArray(children).find((child) => child.type === \"tbody\")\n          : null,\n      [children]\n    );\n    const thead = React.useMemo(\n      () =>\n        children\n          ? asArray(children).find((child) => child.type === \"thead\")\n          : null,\n      [children]\n    );\n    const total = React.useMemo(\n      () => (data ? data.length : asArray(tbody.props.children).length) || 0,\n      [data, tbody]\n    );\n    React.useEffect(() => setPosition(0), [data, tbody]);\n\n    return (\n      <>\n        {Boolean(paginationLocation.includes(\"top-\")) && (\n          <div\n            className={`flex base-margin-bottom${appendClass(\n              paginationLocation === \"top-right\",\n              \"flex-right\"\n            )}`}\n          >\n            {React.createElement(pagination, {\n              total,\n              position,\n              onPageChange: (_, p) => setPosition(p),\n              onPerPageChange: (p) => setPerPage(p),\n              paginationProps,\n            })}\n          </div>\n        )}\n        <GenericTable {...props} ref={forwardedRef}>\n          {thead}\n          <tbody>\n            {data\n              ? data.slice(position, position + perPage).map((row, rid) => (\n                  <tr key={rid}>\n                    {row.map((col, cid) => (\n                      <td key={cid}>{col}</td>\n                    ))}\n                  </tr>\n                ))\n              : asArray(tbody.props.children).slice(\n                  position,\n                  position + perPage\n                )}\n          </tbody>\n        </GenericTable>\n        {Boolean(paginationLocation.includes(\"bottom-\")) && (\n          <div\n            className={`flex base-margin-top${appendClass(\n              paginationLocation === \"bottom-right\",\n              \"flex-right\"\n            )}`}\n          >\n            {React.createElement(pagination, {\n              total,\n              position,\n              onPageChange: (_, p) => setPosition(p),\n              onPerPageChange: (p) => setPerPage(p),\n              perPageUp: true,\n              paginationProps,\n            })}\n          </div>\n        )}\n      </>\n    );\n  }\n);\n"],"names":["_extends","Wrapper","div","className","GenericTable","forwardRef","outerWrap","lined","bordered","striped","selectable","fixed","wrapped","compressed","loose","props","forwardedRef","ConditionalWrapper","condition","wrapper","table","ac","ref","DefaultTablePagination","perPageUp","paginationProps","total","position","onPageChange","onPerPageChange","perPage","setPerPage","React","useState","useEffect","span","Pagination","firstAndLast","icons","beginAt","Dropdown","type","header","openTo","alwaysClose","up","map","v","Element","onClick","key","selected","asArray","Array","isArray","Table","pagination","paginationLocation","data","children","start","setPosition","tbody","useMemo","find","child","thead","length","Boolean","includes","appendClass","createElement","_","p","slice","row","rid","tr","col","cid","td"],"mappings":"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"}