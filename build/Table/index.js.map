{"version":3,"file":"index.js","sources":["../../src/Table/GenericTable.tsx","../../src/Table/DefaultTablePagination.tsx","../../src/Table/Table.tsx"],"sourcesContent":["import React, { forwardRef, type FC, type HTMLProps } from \"react\";\n\nimport { ConditionalWrapper } from \"src/Conditional\";\nimport { appendClass as ac } from \"src/utils\";\n\nconst Wrapper = <div className=\"responsive-table\" />;\n\nexport type GenericTableProps = {\n  outerWrap?: boolean;\n  lined?: boolean;\n  bordered?: boolean;\n  striped?: boolean;\n  selectable?: boolean;\n  fixed?: boolean;\n  wrapped?: boolean;\n  compressed?: boolean;\n  loose?: boolean;\n} & Partial<HTMLProps<HTMLTableElement>>;\n\nexport const GenericTable: FC<GenericTableProps> = forwardRef<\n  HTMLTableElement,\n  GenericTableProps\n>(\n  (\n    {\n      outerWrap = true,\n      lined = false,\n      bordered = false,\n      striped = false,\n      selectable = false,\n      fixed = false,\n      wrapped = false,\n      compressed = false,\n      loose = false,\n      className = null,\n      ...props\n    },\n    forwardedRef\n  ) => (\n    <ConditionalWrapper condition={outerWrap} wrapper={Wrapper}>\n      <table\n        className={`table${ac(lined, \"table--lined\")}${ac(\n          bordered,\n          \"table--bordered\"\n        )}${ac(striped, \"table--striped\")}${ac(\n          selectable,\n          \"table--selectable\"\n        )}${ac(fixed, \"table--fixed\")}${ac(wrapped, \"table--wrapped\")}${ac(\n          compressed,\n          \"table--compressed\"\n        )}${ac(loose, \"table--loose\")}${ac(className)}`}\n        {...props}\n        ref={forwardedRef}\n      />\n    </ConditionalWrapper>\n  )\n);\n","import React, { FC, ReactNode } from \"react\";\n\nimport { Dropdown, MenuElement } from \"src/Dropdown\";\nimport { Pagination } from \"src/Pagination\";\n\ntype DefaultTablePaginationProps = {\n  total: number;\n  position: number;\n  onPageChange: (e, position: number) => void;\n  onPerPageChange: (value: number) => void;\n  perPageUp?: boolean;\n  paginationProps?: {\n    size?: \"small\" | \"default\" | \"large\";\n    rounded?: boolean;\n    icons?: boolean;\n    next?: ReactNode;\n    prev?: ReactNode;\n    firstAndLast?: boolean;\n  };\n};\n\nexport const DefaultTablePagination: FC<DefaultTablePaginationProps> = ({\n  perPageUp = false,\n  paginationProps = {},\n  total,\n  position,\n  onPageChange,\n  onPerPageChange,\n}) => {\n  const [perPage, setPerPage] = React.useState<number>(50);\n\n  React.useEffect(() => {\n    if (typeof onPerPageChange === \"function\") onPerPageChange(perPage);\n  }, [perPage, onPerPageChange]);\n\n  return (\n    <div className=\"flex-middle\">\n      <span className=\"qtr-margin-right\">Page:</span>\n      <Pagination\n        firstAndLast\n        icons\n        perPage={perPage}\n        total={total}\n        position={position}\n        onPageChange={onPageChange}\n        beginAt={0}\n        className=\"no-margin-top\"\n        {...paginationProps}\n      />\n      <span className=\"text-muted qtr-margin-left qtr-margin-right\">|</span>\n      <span className=\"qtr-margin-right\">Per page:</span>\n      <Dropdown\n        label={<a>{perPage}</a>}\n        alwaysClose\n        placement={perPageUp ? \"top\" : undefined}\n      >\n        {[10, 25, 50, 100, 250, 500].map((v) => (\n          <MenuElement\n            onClick={() => setPerPage(v)}\n            key={v}\n            selected={v === perPage}\n          >\n            {v}\n          </MenuElement>\n        ))}\n      </Dropdown>\n    </div>\n  );\n};\n","import React, { FC, ReactNode, forwardRef } from \"react\";\n\nimport { appendClass } from \"src/utils\";\n\nimport { DefaultTablePagination } from \"./DefaultTablePagination\";\nimport { GenericTable, GenericTableProps } from \"./GenericTable\";\n\nconst asArray = (v: unknown) => (Array.isArray(v) ? v : [v]);\n\ntype PaginationLocation =\n  | \"top-left\"\n  | \"bottom-left\"\n  | \"bottom-right\"\n  | \"top-right\";\n\ntype TableProps = {\n  pagination?: FC<any> | React.ComponentClass<any> | string;\n  paginationLocation?: PaginationLocation;\n  paginationProps?: {\n    size?: \"small\" | \"default\" | \"large\";\n    rounded?: boolean;\n    icons?: boolean;\n    next?: ReactNode;\n    prev?: ReactNode;\n    firstAndLast?: boolean;\n  };\n  data?: any[][];\n  children?: ReactNode;\n  start?: number;\n} & GenericTableProps;\n\nexport const Table: FC<TableProps> = forwardRef<HTMLTableElement, TableProps>(\n  (\n    {\n      pagination = DefaultTablePagination,\n      paginationLocation = \"bottom-right\",\n      paginationProps = {\n        icons: true,\n        firstAndLast: true,\n      },\n      data = null,\n      children = null,\n      start = 1,\n      ...props\n    },\n    forwardedRef\n  ) => {\n    const [position, setPosition] = React.useState(\n      typeof start === \"number\" ? start : 0\n    );\n    const [perPage, setPerPage] = React.useState(50);\n    const tbody = React.useMemo(\n      () =>\n        children\n          ? asArray(children).find((child) => child.type === \"tbody\")\n          : null,\n      [children]\n    );\n    const thead = React.useMemo(\n      () =>\n        children\n          ? asArray(children).find((child) => child.type === \"thead\")\n          : null,\n      [children]\n    );\n    const total = React.useMemo(\n      () => (data ? data.length : asArray(tbody.props.children).length) || 0,\n      [data, tbody]\n    );\n    React.useEffect(() => setPosition(0), [data, tbody]);\n\n    return (\n      <>\n        {Boolean(paginationLocation.includes(\"top-\")) && (\n          <div\n            className={`flex base-margin-bottom${appendClass(\n              paginationLocation === \"top-right\",\n              \"flex-right\"\n            )}`}\n          >\n            {React.createElement(pagination, {\n              total,\n              position,\n              onPageChange: (_, p) => setPosition(p),\n              onPerPageChange: (p) => setPerPage(p),\n              paginationProps,\n            })}\n          </div>\n        )}\n        <GenericTable {...props} ref={forwardedRef}>\n          {thead}\n          <tbody>\n            {data\n              ? data.slice(position, position + perPage).map((row, rid) => (\n                  <tr key={rid}>\n                    {row.map((col, cid) => (\n                      <td key={cid}>{col}</td>\n                    ))}\n                  </tr>\n                ))\n              : asArray(tbody.props.children).slice(\n                  position,\n                  position + perPage\n                )}\n          </tbody>\n        </GenericTable>\n        {Boolean(paginationLocation.includes(\"bottom-\")) && (\n          <div\n            className={`flex base-margin-top${appendClass(\n              paginationLocation === \"bottom-right\",\n              \"flex-right\"\n            )}`}\n          >\n            {React.createElement(pagination, {\n              total,\n              position,\n              onPageChange: (_, p) => setPosition(p),\n              onPerPageChange: (p) => setPerPage(p),\n              perPageUp: true,\n              paginationProps,\n            })}\n          </div>\n        )}\n      </>\n    );\n  }\n);\n"],"names":["Wrapper","jsx","GenericTable","forwardRef","outerWrap","lined","bordered","striped","selectable","fixed","wrapped","compressed","loose","className","props","forwardedRef","ConditionalWrapper","ac","DefaultTablePagination","perPageUp","paginationProps","total","position","onPageChange","onPerPageChange","perPage","setPerPage","React","jsxs","Pagination","Dropdown","v","MenuElement","asArray","Table","pagination","paginationLocation","data","children","start","setPosition","tbody","child","thead","Fragment","appendClass","_","p","row","rid","col","cid"],"mappings":"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"}