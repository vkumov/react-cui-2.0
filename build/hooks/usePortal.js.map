{"version":3,"file":"usePortal.js","sources":["../../src/hooks/useIsomorphicEffect.ts","../../src/hooks/usePortal.ts"],"sourcesContent":["import { useEffect, useLayoutEffect } from \"react\";\n\n// useLayoutEffect will show warning if used during ssr, e.g. with Next.js\n// useIsomorphicEffect removes it by replacing useLayoutEffect with useEffect during ssr\nexport const useIsomorphicEffect =\n  typeof document !== \"undefined\" ? useLayoutEffect : useEffect;\n","import { useRef, useState } from \"react\";\nimport { useIsomorphicEffect } from \"./useIsomorphicEffect\";\n\nexport function usePortal(target?: HTMLElement | string): HTMLElement | null {\n  const [mounted, setMounted] = useState(false);\n  const ref = useRef<HTMLElement>();\n\n  useIsomorphicEffect(() => {\n    setMounted(true);\n    ref.current = !target\n      ? document.createElement(\"div\")\n      : typeof target === \"string\"\n      ? document.querySelector(target)\n      : target;\n\n    if (!target) {\n      document.body.appendChild(ref.current);\n    }\n\n    return () => {\n      !target && document.body.removeChild(ref.current);\n    };\n  }, [target]);\n\n  if (!mounted) {\n    return null;\n  }\n\n  return ref.current;\n}\n"],"names":["useIsomorphicEffect","document","useLayoutEffect","useEffect","usePortal","target","mounted","setMounted","useState","ref","useRef","current","createElement","querySelector","body","appendChild","removeChild"],"mappings":";;AAEA;AACA;AACO,MAAMA,mBAAmB,GAC9B,OAAOC,QAAQ,KAAK,WAAW,GAAGC,eAAe,GAAGC,SAAS;;ACFxD,SAASC,SAAS,CAACC,MAA6B,EAAsB;IAC3E,MAAM,CAACC,OAAO,EAAEC,UAAU,CAAC,GAAGC,QAAQ,CAAC,KAAK,CAAC,CAAC;AAC9C,IAAA,MAAMC,GAAG,GAAGC,MAAM,EAAe,CAAC;AAElCV,IAAAA,mBAAmB,CAAC,IAAM;QACxBO,UAAU,CAAC,IAAI,CAAC,CAAC;QACjBE,GAAG,CAACE,OAAO,GAAG,CAACN,MAAM,GACjBJ,QAAQ,CAACW,aAAa,CAAC,KAAK,CAAC,GAC7B,OAAOP,MAAM,KAAK,QAAQ,GAC1BJ,QAAQ,CAACY,aAAa,CAACR,MAAM,CAAC,GAC9BA,MAAM,CAAC;QAEX,IAAI,CAACA,MAAM,EAAE;YACXJ,QAAQ,CAACa,IAAI,CAACC,WAAW,CAACN,GAAG,CAACE,OAAO,CAAC,CAAC;AACxC,SAAA;AAED,QAAA,OAAO,IAAM;AACX,YAAA,CAACN,MAAM,IAAIJ,QAAQ,CAACa,IAAI,CAACE,WAAW,CAACP,GAAG,CAACE,OAAO,CAAC,CAAC;SACnD,CAAC;KACH,EAAE;QAACN,MAAM;AAAC,KAAA,CAAC,CAAC;IAEb,IAAI,CAACC,OAAO,EAAE;AACZ,QAAA,OAAO,IAAI,CAAC;AACb,KAAA;IAED,OAAOG,GAAG,CAACE,OAAO,CAAC;AACpB;;;;"}