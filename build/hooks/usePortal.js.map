{"version":3,"file":"usePortal.js","sources":["../../src/hooks/useIsomorphicEffect.ts","../../src/hooks/usePortal.ts"],"sourcesContent":["import { useEffect, useLayoutEffect } from \"react\";\n\n// useLayoutEffect will show warning if used during ssr, e.g. with Next.js\n// useIsomorphicEffect removes it by replacing useLayoutEffect with useEffect during ssr\nexport const useIsomorphicEffect =\n  typeof document !== \"undefined\" ? useLayoutEffect : useEffect;\n","import { useRef, useState } from \"react\";\n\nimport { useIsomorphicEffect } from \"./useIsomorphicEffect\";\n\nexport function usePortal(target?: HTMLElement | string): HTMLElement | null {\n  const [mounted, setMounted] = useState(false);\n  const ref = useRef<HTMLElement>();\n\n  useIsomorphicEffect(() => {\n    setMounted(true);\n    ref.current = !target\n      ? document.createElement(\"div\")\n      : typeof target === \"string\"\n      ? document.querySelector(target)\n      : target;\n\n    if (!target) {\n      document.body.appendChild(ref.current);\n    }\n\n    return () => {\n      !target && document.body.removeChild(ref.current);\n    };\n  }, [target]);\n\n  if (!mounted) {\n    return null;\n  }\n\n  return ref.current;\n}\n"],"names":["useIsomorphicEffect","useLayoutEffect","useEffect","usePortal","target","mounted","setMounted","useState","ref","useRef"],"mappings":"uFAIaA,EACX,OAAO,SAAa,IAAcC,EAAkBC,ECDtC,SAAAC,EAAUC,EAAmD,CAC3E,KAAM,CAACC,EAASC,CAAU,EAAIC,EAAS,EAAK,EACtCC,EAAMC,IAmBZ,OAjBAT,EAAoB,KAClBM,EAAW,EAAI,EACfE,EAAI,QAAWJ,EAEX,OAAOA,GAAW,SAClB,SAAS,cAAcA,CAAM,EAC7BA,EAHA,SAAS,cAAc,KAAK,EAK3BA,GACH,SAAS,KAAK,YAAYI,EAAI,OAAO,EAGhC,IAAM,CACX,CAACJ,GAAU,SAAS,KAAK,YAAYI,EAAI,OAAO,CAClD,GACC,CAACJ,CAAM,CAAC,EAENC,EAIEG,EAAI,QAHF,IAIX"}