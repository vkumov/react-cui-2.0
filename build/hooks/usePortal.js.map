{"version":3,"file":"usePortal.js","sources":["../../src/hooks/useIsomorphicEffect.ts","../../src/hooks/usePortal.ts"],"sourcesContent":["import { useEffect, useLayoutEffect } from \"react\";\n\n// useLayoutEffect will show warning if used during ssr, e.g. with Next.js\n// useIsomorphicEffect removes it by replacing useLayoutEffect with useEffect during ssr\nexport const useIsomorphicEffect =\n  typeof document !== \"undefined\" ? useLayoutEffect : useEffect;\n","import { useRef, useState } from \"react\";\n\nimport { useIsomorphicEffect } from \"./useIsomorphicEffect\";\n\nexport function usePortal(target?: HTMLElement | string): HTMLElement | null {\n  const [mounted, setMounted] = useState(false);\n  const ref = useRef<HTMLElement>();\n\n  useIsomorphicEffect(() => {\n    setMounted(true);\n    ref.current = !target\n      ? document.createElement(\"div\")\n      : typeof target === \"string\"\n      ? document.querySelector(target)\n      : target;\n\n    if (!target) {\n      document.body.appendChild(ref.current);\n    }\n\n    return () => {\n      !target && document.body.removeChild(ref.current);\n    };\n  }, [target]);\n\n  if (!mounted) {\n    return null;\n  }\n\n  return ref.current;\n}\n"],"names":["useIsomorphicEffect","document","useLayoutEffect","useEffect","usePortal","target","useState","mounted","setMounted","ref","useRef","current","createElement","querySelector","body","appendChild","removeChild"],"mappings":"w3CAIO,IAAMA,oBACX,OAAOC,WAAa,YAAcC,gBAAkBC,SAAS,CCDxD,SAASC,UAAUC,MAA6B,CAAsB,CAC3E,IAA8BC,mBAAAA,SAAS,KAAK,KAArCC,QAAuBD,OAAdE,WAAcF,OAC9B,IAAMG,KAAMC,SAEZV,oBAAoB,UAAM,CACxBQ,WAAW,IAAI,CACfC,CAAAA,KAAIE,OAAO,CAAG,CAACN,OACXJ,SAASW,aAAa,CAAC,OACvB,OAAOP,SAAW,SAClBJ,SAASY,aAAa,CAACR,QACvBA,MAAM,CAEV,GAAI,CAACA,OAAQ,CACXJ,SAASa,IAAI,CAACC,WAAW,CAACN,KAAIE,OAAO,CACtC,CAAA,AAED,OAAO,UAAM,CACX,CAACN,QAAUJ,SAASa,IAAI,CAACE,WAAW,CAACP,KAAIE,OAAO,CAClD,GACC,CAACN,OAAO,EAEX,GAAI,CAACE,QAAS,CACZ,OAAO,IAAI,AACZ,CAAA,AAED,OAAOE,KAAIE,OAAO,AACpB"}