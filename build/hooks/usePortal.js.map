{"version":3,"file":"usePortal.js","sources":["../../src/hooks/useIsomorphicEffect.ts","../../src/hooks/usePortal.ts"],"sourcesContent":["import { useEffect, useLayoutEffect } from \"react\";\n\n// useLayoutEffect will show warning if used during ssr, e.g. with Next.js\n// useIsomorphicEffect removes it by replacing useLayoutEffect with useEffect during ssr\nexport const useIsomorphicEffect =\n  typeof document !== \"undefined\" ? useLayoutEffect : useEffect;\n","import { useRef, useState } from \"react\";\nimport { useIsomorphicEffect } from \"./useIsomorphicEffect\";\n\nexport function usePortal(target?: HTMLElement | string): HTMLElement | null {\n  const [mounted, setMounted] = useState(false);\n  const ref = useRef<HTMLElement>();\n\n  useIsomorphicEffect(() => {\n    setMounted(true);\n    ref.current = !target\n      ? document.createElement(\"div\")\n      : typeof target === \"string\"\n      ? document.querySelector(target)\n      : target;\n\n    if (!target) {\n      document.body.appendChild(ref.current);\n    }\n\n    return () => {\n      !target && document.body.removeChild(ref.current);\n    };\n  }, [target]);\n\n  if (!mounted) {\n    return null;\n  }\n\n  return ref.current;\n}\n"],"names":["useIsomorphicEffect","document","useLayoutEffect","useEffect","usePortal","target","mounted","setMounted","useState","ref","useRef","current","createElement","querySelector","body","appendChild","removeChild"],"mappings":";;AAEA;AACA;AACO,MAAMA,mBACX,GAAA,OAAOC,aAAa,WAAcC,GAAAA,eAAAA,GAAkBC,SAAS;;ACFxD,SAASC,SAAUC,CAAAA,MAA6B,EAAsB;AAC3E,IAAA,MAAM,CAACC,OAAAA,EAASC,UAAW,CAAA,GAAGC,SAAS,KAAK,CAAA,CAAA;AAC5C,IAAA,MAAMC,GAAMC,GAAAA,MAAAA,EAAAA,CAAAA;AAEZV,IAAAA,mBAAAA,CAAoB,IAAM;AACxBO,QAAAA,UAAAA,CAAW,IAAI,CAAA,CAAA;AACfE,QAAAA,GAAAA,CAAIE,OAAO,GAAG,CAACN,MAAAA,GACXJ,SAASW,aAAa,CAAC,KACvB,CAAA,GAAA,OAAOP,WAAW,QAClBJ,GAAAA,QAAAA,CAASY,aAAa,CAACR,UACvBA,MAAM,CAAA;AAEV,QAAA,IAAI,CAACA,MAAQ,EAAA;AACXJ,YAAAA,QAAAA,CAASa,IAAI,CAACC,WAAW,CAACN,IAAIE,OAAO,CAAA,CAAA;SACtC;AAED,QAAA,OAAO,IAAM;AACX,YAAA,CAACN,UAAUJ,QAASa,CAAAA,IAAI,CAACE,WAAW,CAACP,IAAIE,OAAO,CAAA,CAAA;AAClD,SAAA,CAAA;KACC,EAAA;AAACN,QAAAA,MAAAA;AAAO,KAAA,CAAA,CAAA;AAEX,IAAA,IAAI,CAACC,OAAS,EAAA;AACZ,QAAA,OAAO,IAAI,CAAA;KACZ;AAED,IAAA,OAAOG,IAAIE,OAAO,CAAA;AACpB;;;;"}