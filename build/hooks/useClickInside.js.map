{"version":3,"file":"useClickInside.js","sources":["../../src/hooks/useClickInside.ts"],"sourcesContent":["import { useEffect, useRef } from \"react\";\n\nconst DEFAULT_EVENTS = [\"mousedown\", \"touchstart\"];\n\nexport function useClickInside<T extends HTMLElement = any>(\n  handler: () => void,\n  events?: string[] | null,\n  nodes?: HTMLElement[]\n) {\n  const ref = useRef<T>();\n\n  useEffect(() => {\n    const listener = (event: any) => {\n      if (Array.isArray(nodes)) {\n        const shouldIgnore = event?.target?.hasAttribute(\n          \"data-ignore-inside-clicks\"\n        );\n        const shouldTrigger = nodes.every(\n          (node) => Boolean(node) && node.contains(event.target)\n        );\n        shouldTrigger && !shouldIgnore && handler();\n      } else if (ref.current && !ref.current.contains(event.target)) {\n        handler();\n      }\n    };\n\n    (events || DEFAULT_EVENTS).forEach((fn) =>\n      document.addEventListener(fn, listener)\n    );\n\n    return () => {\n      (events || DEFAULT_EVENTS).forEach((fn) =>\n        document.removeEventListener(fn, listener)\n      );\n    };\n  }, [ref, handler, nodes]);\n\n  return ref;\n}\n"],"names":["DEFAULT_EVENTS","useClickInside","handler","events","nodes","ref","useRef","useEffect","listener","event","Array","isArray","shouldIgnore","target","hasAttribute","shouldTrigger","every","node","Boolean","contains","current","forEach","fn","document","addEventListener","removeEventListener"],"mappings":";;AAEA,MAAMA,cAAiB,GAAA;AAAC,IAAA,WAAA;AAAa,IAAA,YAAA;AAAa,CAAA,CAAA;AAE3C,SAASC,cACdC,CAAAA,OAAmB,EACnBC,MAAwB,EACxBC,KAAqB,EACrB;AACA,IAAA,MAAMC,GAAMC,GAAAA,MAAAA,EAAAA,CAAAA;AAEZC,IAAAA,SAAAA,CAAU,IAAM;QACd,MAAMC,QAAAA,GAAW,CAACC,KAAe,GAAA;YAC/B,IAAIC,KAAAA,CAAMC,OAAO,CAACP,KAAQ,CAAA,EAAA;AACHK,gBAAAA,IAAAA,IAAAA,CAAAA;AAArB,gBAAA,MAAMG,YAAeH,GAAAA,KAAAA,KAAAA,IAAAA,IAAAA,KAAAA,KAAAA,KAAAA,CAAAA,GAAAA,KAAAA,IAAAA,CAAAA,IAAAA,GAAAA,KAAOI,CAAAA,MAAM,MAAbJ,IAAAA,IAAAA,IAAAA,KAAAA,KAAAA,CAAAA,GAAAA,KAAAA,CAAAA,GAAAA,KAAeK,YAClC,CAAA,2BAAA,CAAA,CAAA;AAEF,gBAAA,MAAMC,aAAgBX,GAAAA,KAAAA,CAAMY,KAAK,CAC/B,CAACC,IAAAA,GAASC,OAAQD,CAAAA,IAAAA,CAAAA,IAASA,IAAKE,CAAAA,QAAQ,CAACV,KAAAA,CAAMI,MAAM,CAAA,CAAA,CAAA;AAEvDE,gBAAAA,aAAAA,IAAiB,CAACH,YAAgBV,IAAAA,OAAAA,EAAAA,CAAAA;AACpC,aAAA,MAAO,IAAIG,GAAAA,CAAIe,OAAO,IAAI,CAACf,GAAAA,CAAIe,OAAO,CAACD,QAAQ,CAACV,KAAMI,CAAAA,MAAM,CAAG,EAAA;AAC7DX,gBAAAA,OAAAA,EAAAA,CAAAA;aACD;AACH,SAAA,CAAA;QAECC,CAAAA,MAAAA,IAAUH,cAAa,EAAGqB,OAAO,CAAC,CAACC,EAClCC,GAAAA,QAAAA,CAASC,gBAAgB,CAACF,EAAId,EAAAA,QAAAA,CAAAA,CAAAA,CAAAA;AAGhC,QAAA,OAAO,IAAM;YACVL,CAAAA,MAAAA,IAAUH,cAAa,EAAGqB,OAAO,CAAC,CAACC,EAClCC,GAAAA,QAAAA,CAASE,mBAAmB,CAACH,EAAId,EAAAA,QAAAA,CAAAA,CAAAA,CAAAA;AAErC,SAAA,CAAA;KACC,EAAA;AAACH,QAAAA,GAAAA;AAAKH,QAAAA,OAAAA;AAASE,QAAAA,KAAAA;AAAM,KAAA,CAAA,CAAA;IAExB,OAAOC,GAAAA,CAAAA;AACT;;;;"}