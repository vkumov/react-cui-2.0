{"version":3,"file":"useClickInside.js","sources":["../../src/hooks/useClickInside.ts"],"sourcesContent":["import { useEffect, useRef } from \"react\";\n\nconst DEFAULT_EVENTS = [\"mousedown\", \"touchstart\"];\n\nexport function useClickInside<T extends HTMLElement = any>(\n  handler: () => void,\n  events?: string[] | null,\n  nodes?: HTMLElement[]\n) {\n  const ref = useRef<T>();\n\n  useEffect(() => {\n    const listener = (event: any) => {\n      if (Array.isArray(nodes)) {\n        const shouldIgnore = event?.target?.hasAttribute(\n          \"data-ignore-inside-clicks\"\n        );\n        const shouldTrigger = nodes.every(\n          (node) => Boolean(node) && node.contains(event.target)\n        );\n        shouldTrigger && !shouldIgnore && handler();\n      } else if (ref.current && !ref.current.contains(event.target)) {\n        handler();\n      }\n    };\n\n    (events || DEFAULT_EVENTS).forEach((fn) =>\n      document.addEventListener(fn, listener)\n    );\n\n    return () => {\n      (events || DEFAULT_EVENTS).forEach((fn) =>\n        document.removeEventListener(fn, listener)\n      );\n    };\n  }, [ref, handler, nodes]);\n\n  return ref;\n}\n"],"names":["DEFAULT_EVENTS","useClickInside","handler","events","nodes","ref","useRef","useEffect","listener","event","Array","isArray","shouldIgnore","target","hasAttribute","shouldTrigger","every","node","Boolean","contains","current","forEach","fn","document","addEventListener","removeEventListener"],"mappings":"oCAEA,IAAMA,eAAiB,CAAC,YAAa,aAAa,CAE3C,SAASC,eACdC,OAAmB,CACnBC,MAAwB,CACxBC,KAAqB,CACrB,CACA,IAAMC,IAAMC,SAEZC,UAAU,UAAM,CACd,IAAMC,SAAW,SAACC,MAAe,CAC/B,GAAIC,MAAMC,OAAO,CAACP,OAAQ,CACHK,IAAAA,KAArB,IAAMG,aAAeH,QAAAA,IAAAA,EAAAA,QAAAA,KAAAA,EAAAA,KAAAA,EAAAA,AAAAA,CAAAA,KAAAA,MAAOI,MAAM,AAANA,IAAPJ,IAAAA,EAAAA,OAAAA,KAAAA,EAAAA,KAAAA,EAAAA,KAAeK,YAClC,CAAA,4BAAA,CAEF,IAAMC,cAAgBX,MAAMY,KAAK,CAC/B,SAACC,aAASC,QAAQD,OAASA,KAAKE,QAAQ,CAACV,MAAMI,MAAM,GAEvDE,CAAAA,eAAiB,CAACH,cAAgBV,SACpC,MAAO,GAAIG,IAAIe,OAAO,EAAI,CAACf,IAAIe,OAAO,CAACD,QAAQ,CAACV,MAAMI,MAAM,EAAG,CAC7DX,SACD,CAAA,AACH,EAECC,AAAAA,CAAAA,QAAUH,gBAAgBqB,OAAO,CAAC,SAACC,WAClCC,SAASC,gBAAgB,CAACF,GAAId,YAGhC,OAAO,UAAM,CACVL,AAAAA,CAAAA,QAAUH,gBAAgBqB,OAAO,CAAC,SAACC,WAClCC,SAASE,mBAAmB,CAACH,GAAId,WAErC,GACC,CAACH,IAAKH,QAASE,MAAM,EAExB,OAAOC,GACT"}