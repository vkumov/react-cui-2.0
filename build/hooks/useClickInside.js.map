{"version":3,"file":"useClickInside.js","sources":["../../src/hooks/useClickInside.ts"],"sourcesContent":["import { useEffect, useRef } from \"react\";\n\nconst DEFAULT_EVENTS = [\"mousedown\", \"touchstart\"];\n\nexport function useClickInside<T extends HTMLElement = any>(\n  handler: () => void,\n  events?: string[] | null,\n  nodes?: HTMLElement[]\n) {\n  const ref = useRef<T>();\n\n  useEffect(() => {\n    const listener = (event: any) => {\n      if (Array.isArray(nodes)) {\n        const shouldIgnore = event?.target?.hasAttribute(\n          \"data-ignore-inside-clicks\"\n        );\n        const shouldTrigger = nodes.every(\n          (node) => Boolean(node) && node.contains(event.target)\n        );\n        shouldTrigger && !shouldIgnore && handler();\n      } else if (ref.current && !ref.current.contains(event.target)) {\n        handler();\n      }\n    };\n\n    (events || DEFAULT_EVENTS).forEach((fn) =>\n      document.addEventListener(fn, listener)\n    );\n\n    return () => {\n      (events || DEFAULT_EVENTS).forEach((fn) =>\n        document.removeEventListener(fn, listener)\n      );\n    };\n  }, [ref, handler, nodes]);\n\n  return ref;\n}\n"],"names":["DEFAULT_EVENTS","useClickInside","handler","events","nodes","ref","useRef","useEffect","listener","event","Array","isArray","shouldIgnore","target","hasAttribute","shouldTrigger","every","node","Boolean","contains","current","forEach","fn","document","addEventListener","removeEventListener"],"mappings":";;AAEA,MAAMA,cAAc,GAAG;IAAC,WAAW;IAAE,YAAY;CAAC,CAAC;AAE5C,SAASC,cAAc,CAC5BC,OAAmB,EACnBC,MAAwB,EACxBC,KAAqB,EACrB;AACA,IAAA,MAAMC,IAAG,GAAGC,MAAM,EAAK,CAAC;AAExBC,IAAAA,SAAS,CAAC,IAAM;AACd,QAAA,MAAMC,QAAQ,GAAG,CAACC,KAAU,GAAK;AAC/B,YAAA,IAAIC,KAAK,CAACC,OAAO,CAACP,KAAK,CAAC,EAAE;oBACHK,GAAa,CAAA;AAAlC,gBAAA,MAAMG,YAAY,GAAGH,KAAK,KAAA,IAAA,IAALA,KAAK,KAAA,KAAA,CAAQ,GAAbA,KAAAA,CAAa,GAAbA,CAAAA,GAAa,GAAbA,KAAK,CAAEI,MAAM,MAAbJ,IAAAA,IAAAA,GAAa,KAAA,KAAA,CAAA,GAAbA,KAAAA,CAAa,GAAbA,GAAa,CAAEK,YAAY,CAC9C,2BAA2B,CAC5B,CAAC;gBACF,MAAMC,aAAa,GAAGX,KAAK,CAACY,KAAK,CAC/B,CAACC,IAAI,GAAKC,OAAO,CAACD,IAAI,CAAC,IAAIA,IAAI,CAACE,QAAQ,CAACV,KAAK,CAACI,MAAM,CAAC;AAAA,iBACvD,CAAC;AACFE,gBAAAA,aAAa,IAAI,CAACH,YAAY,IAAIV,OAAO,EAAE,CAAC;AAC7C,aAAA,MAAM,IAAIG,IAAG,CAACe,OAAO,IAAI,CAACf,IAAG,CAACe,OAAO,CAACD,QAAQ,CAACV,KAAK,CAACI,MAAM,CAAC,EAAE;AAC7DX,gBAAAA,OAAO,EAAE,CAAC;AACX,aAAA;SACF,CAAC;AAEF,QAAA,CAACC,MAAM,IAAIH,cAAc,EAAEqB,OAAO,CAAC,CAACC,EAAE,GACpCC,QAAQ,CAACC,gBAAgB,CAACF,EAAE,EAAEd,QAAQ,CAAC;AAAA,SACxC,CAAC;AAEF,QAAA,OAAO,IAAM;AACX,YAAA,CAACL,MAAM,IAAIH,cAAc,EAAEqB,OAAO,CAAC,CAACC,EAAE,GACpCC,QAAQ,CAACE,mBAAmB,CAACH,EAAE,EAAEd,QAAQ,CAAC;AAAA,aAC3C,CAAC;SACH,CAAC;KACH,EAAE;QAACH,IAAG;QAAEH,OAAO;QAAEE,KAAK;AAAC,KAAA,CAAC,CAAC;AAE1B,IAAA,OAAOC,IAAG,CAAC;AACZ;;;;"}