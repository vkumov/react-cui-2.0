import e,{useMemo as x}from"react";import p from"bytes";import y from"classnames";import _ from"react-dropzone";import b from"react-use-event-hook";const k=({file:t,i:a,removeFile:r,inline:i})=>e.createElement("div",{className:"file-drop__card col-lg-4 col-md-6 col-sm-6",key:`${a}-${t.name}`},e.createElement("div",{className:"panel panel--bordered hover-emboss--small",onClick:n=>n.stopPropagation()},i?e.createElement("div",{className:"panel__body flex flex-row"},e.createElement("div",{className:"text-left flex-fill",style:{maxWidth:"calc(100% - 20px)"}},e.createElement("div",{className:"text-ellipsis"},t.name),e.createElement("small",{style:{whiteSpace:"nowrap"}},p.format(t.size,{unitSeparator:" "}))),e.createElement("a",{className:"link pull-right",onClick:()=>r(a)},e.createElement("span",{className:"icon-close",title:"Remove the file."}))):e.createElement("div",{className:"panel__body"},e.createElement("a",{className:"link pull-right",style:{marginRight:"5px"},onClick:()=>r(a)},e.createElement("span",{className:"icon-close",title:"Remove the file."})),e.createElement("div",{className:"text-ellipsis half-margin-bottom"},t.name),e.createElement("span",{className:"file-icon text-muted icon-file-o qtr-margin-right"}),e.createElement("small",null,p.format(t.size,{unitSeparator:" "}))))),w=({inline:t,accept:a,maxFileSize:r})=>t?e.createElement("div",{className:"dropzone-message flex flex-row flex-center-vertical"},e.createElement("h5",{className:"text-muted text-left flex-fill no-margin"},"Click Here or Drop Files to Upload"),a&&e.createElement("span",{className:"text-muted text-small half-margin-right"},"Allowed files: ",typeof a=="string"?a.split(",").join(", "):a),e.createElement("span",{className:"file-drop__icon icon-upload"})):e.createElement("div",{className:"dropzone-message"},e.createElement("span",{className:"file-drop__icon icon-upload"}),e.createElement("h4",{className:"text-muted"},"Click Here or Drop Files to Upload"),a&&e.createElement("div",{className:"text-muted"},"Allowed files: ",a.split(",").join(", ")),r&&e.createElement("div",{className:"text-muted"},"Max file size: ",p.format(r,{unitSeparator:" "}))),F=({files:t,inline:a,showTotalSelected:r,removeFile:i})=>!Array.isArray(t)||!t.length?null:e.createElement("div",{className:"dropzone-previews"},e.createElement("div",{className:"file-drop__container container--fluid"},e.createElement("div",{className:"row"},t.map((n,m)=>e.createElement(k,{key:m,file:n,i:m,inline:a,removeFile:i})))),r?e.createElement("div",{className:"file-drop__filecnt"},t.length," selected"):null),S=({error:t,loose:a,compressed:r,inline:i,label:n,name:m,value:o,maxFileSize:d,maxFiles:f,onChange:E,showTotalSelected:g,...u})=>{const s=x(()=>d?p.parse(d):null,[d]),N=x(()=>{let l="";if(a&&(l="dropzone--loose"),r&&(l="dropzone--compressed"),i&&Array.isArray(o)&&o.length)switch(l){case"dropzone--loose":l=`${l} half-padding-bottom`;break;case"dropzone--compressed":l=`${l} no-padding-bottom`;break;default:l=`${l} qtr-padding-bottom`;break}return l},[a,r,o,i]),h=b(l=>{s&&(l=l.filter(c=>c.size<=s)),f&&l.length>f&&(l=l.slice(0,f)),E(l)}),v=l=>{E(Array.isArray(o)?o.filter((c,z)=>l!==z):o)};return e.createElement("div",{className:y("form-group",{"form-group--error":t})},e.createElement("div",{className:"form-group__text"},n?e.createElement("label",{htmlFor:m},n):null,e.createElement(_,{...u,onDrop:h,maxSize:s},({getRootProps:l,getInputProps:c})=>e.createElement("div",{className:`dropzone ${N}`,...l()},e.createElement("input",{...c()}),e.createElement(F,{files:o,showTotalSelected:g,inline:i,removeFile:v}),Array.isArray(o)&&o.length?null:e.createElement(w,{maxFileSize:s,inline:i,accept:u.accept})))),t?e.createElement("div",{className:"help-block text-danger",role:"alert"},e.createElement("span",null,t)):null)};export{S as Dropzone};
//# sourceMappingURL=index.js.map
