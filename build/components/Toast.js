import e,{isValidElement as t,cloneElement as n,Component as o}from"react";import s from"prop-types";import{a as r}from"../_rollupPluginBabelHelpers-b60338eb.js";import{s as i}from"../style-inject.es-1f59c1d0.js";import{c as a}from"../_commonjsHelpers-62a4d7f9.js";import{a as l,_ as u}from"../inheritsLoose-5aebf23c.js";import{render as c}from"react-dom";import{Transition as p,TransitionGroup as d}from"react-transition-group";function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}var g=a((function(e){
/*!
  Copyright (c) 2017 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/
!function(){var t={}.hasOwnProperty;function n(){for(var e=[],o=0;o<arguments.length;o++){var s=arguments[o];if(s){var r=typeof s;if("string"===r||"number"===r)e.push(s);else if(Array.isArray(s)&&s.length){var i=n.apply(null,s);i&&e.push(i)}else if("object"===r)for(var a in s)t.call(s,a)&&s[a]&&e.push(a)}}return e.join(" ")}e.exports?(n.default=n,e.exports=n):window.classNames=n}()})),m={TOP_LEFT:"top-left",TOP_RIGHT:"top-right",TOP_CENTER:"top-center",BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",BOTTOM_CENTER:"bottom-center"},h={INFO:"info",SUCCESS:"success",WARNING:"warning",ERROR:"error",DEFAULT:"default"},y=0,b=1,v=2,T=3,E=4,C=function(){};function O(e){return"number"==typeof e&&!isNaN(e)&&e>0}function _(e){return Object.keys(e).map((function(t){return e[t]}))}var N=!("undefined"==typeof window||!window.document||!window.document.createElement);var x,w=((x=function(e,t,n){var o=e[t];return!1===o||O(o)?null:new Error(n+" expect "+t+" \n      to be a valid Number > 0 or equal to false. "+o+" given.")}).isRequired=function(e,t,n){if(void 0===e[t])return new Error("The prop "+t+" is marked as required in \n      "+n+", but its value is undefined.");x(e,t,n)},x),D={list:new Map,emitQueue:new Map,on:function(e,t){return this.list.has(e)||this.list.set(e,[]),this.list.get(e).push(t),this},off:function(e){return this.list.delete(e),this},cancelEmit:function(e){var t=this.emitQueue.get(e);return t&&(t.forEach((function(e){return clearTimeout(e)})),this.emitQueue.delete(e)),this},emit:function(e){for(var t=this,n=arguments.length,o=new Array(n>1?n-1:0),s=1;s<n;s++)o[s-1]=arguments[s];this.list.has(e)&&this.list.get(e).forEach((function(n){var s=setTimeout((function(){n.apply(void 0,o)}),0);t.emitQueue.has(e)||t.emitQueue.set(e,[]),t.emitQueue.get(e).push(s)}))}};function L(t){var n=t.enter,o=t.exit,s=t.duration,r=void 0===s?750:s,i=t.appendPosition,a=void 0!==i&&i;return function(t){var s,i,u=t.children,c=t.position,d=t.preventExitTransition,g=l(t,["children","position","preventExitTransition"]),m=a?n+"--"+c:n,h=a?o+"--"+c:o;Array.isArray(r)&&2===r.length?(s=r[0],i=r[1]):s=i=r;return e.createElement(p,f({},g,{timeout:d?0:{enter:s,exit:i},onEnter:function(e){e.classList.add(m),e.style.animationFillMode="forwards",e.style.animationDuration=.001*s+"s"},onEntered:function(e){e.classList.remove(m),e.style.cssText=""},onExit:d?C:function(e){e.classList.add(h),e.style.animationFillMode="forwards",e.style.animationDuration=.001*i+"s"}}),u)}}function R(t){var n,o,s=t.delay,r=t.isRunning,i=t.closeToast,a=t.type,l=t.hide,u=t.className,c=t.style,p=t.controlledProgress,d=t.progress,m=t.rtl,h=f({},c,{animationDuration:s+"ms",animationPlayState:r?"running":"paused",opacity:l?0:1,transform:p?"scaleX("+d+")":null}),y=g("Toastify__progress-bar",p?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated","Toastify__progress-bar--"+a,((n={})["Toastify__progress-bar--rtl"]=m,n),u),b=((o={})[p&&d>=1?"onTransitionEnd":"onAnimationEnd"]=p&&d<1?null:i,o);return e.createElement("div",f({className:y,style:h},b))}function I(e){return e.targetTouches&&e.targetTouches.length>=1?e.targetTouches[0].clientX:e.clientX}function P(e){return e.targetTouches&&e.targetTouches.length>=1?e.targetTouches[0].clientY:e.clientY}R.propTypes={delay:w.isRequired,isRunning:s.bool.isRequired,closeToast:s.func.isRequired,rtl:s.bool.isRequired,type:s.string,hide:s.bool,className:s.oneOfType([s.string,s.object]),progress:s.number,controlledProgress:s.bool},R.defaultProps={type:h.DEFAULT,hide:!1};var k=N&&/(msie|trident)/i.test(navigator.userAgent),F=function(t){function n(){for(var e,n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return(e=t.call.apply(t,[this].concat(o))||this).state={isRunning:!0,preventExitTransition:!1},e.flag={canCloseOnClick:!0,canDrag:!1},e.drag={start:0,x:0,y:0,deltaX:0,removalDistance:0},e.boundingRect=null,e.ref=null,e.pauseToast=function(){e.props.autoClose&&e.setState({isRunning:!1})},e.playToast=function(){e.props.autoClose&&e.setState({isRunning:!0})},e.onDragStart=function(t){e.flag.canCloseOnClick=!0,e.flag.canDrag=!0,e.boundingRect=e.ref.getBoundingClientRect(),e.ref.style.transition="",e.drag.start=e.drag.x=I(t.nativeEvent),e.drag.removalDistance=e.ref.offsetWidth*(e.props.draggablePercent/100)},e.onDragMove=function(t){e.flag.canDrag&&(e.state.isRunning&&e.pauseToast(),e.drag.x=I(t),e.drag.deltaX=e.drag.x-e.drag.start,e.drag.y=P(t),e.drag.start!==e.drag.x&&(e.flag.canCloseOnClick=!1),e.ref.style.transform="translateX("+e.drag.deltaX+"px)",e.ref.style.opacity=1-Math.abs(e.drag.deltaX/e.drag.removalDistance))},e.onDragEnd=function(t){if(e.flag.canDrag){if(e.flag.canDrag=!1,Math.abs(e.drag.deltaX)>e.drag.removalDistance)return void e.setState({preventExitTransition:!0},e.props.closeToast);e.ref.style.transition="transform 0.2s, opacity 0.2s",e.ref.style.transform="translateX(0)",e.ref.style.opacity=1}},e.onDragTransitionEnd=function(){if(e.boundingRect){var t=e.boundingRect,n=t.top,o=t.bottom,s=t.left,r=t.right;e.props.pauseOnHover&&e.drag.x>=s&&e.drag.x<=r&&e.drag.y>=n&&e.drag.y<=o?e.pauseToast():e.playToast()}},e.onExitTransitionEnd=function(){if(k)e.props.onExited();else{var t=e.ref.scrollHeight,n=e.ref.style;requestAnimationFrame((function(){n.minHeight="initial",n.height=t+"px",n.transition="all 0.4s ",requestAnimationFrame((function(){n.height=0,n.padding=0,n.margin=0})),setTimeout((function(){return e.props.onExited()}),400)}))}},e}u(n,t);var o=n.prototype;return o.componentDidMount=function(){this.props.onOpen(this.props.children.props),this.props.draggable&&this.bindDragEvents(),this.props.pauseOnFocusLoss&&this.bindFocusEvents()},o.componentDidUpdate=function(e){e.draggable!==this.props.draggable&&(this.props.draggable?this.bindDragEvents():this.unbindDragEvents()),e.pauseOnFocusLoss!==this.props.pauseOnFocusLoss&&(this.props.pauseOnFocusLoss?this.bindFocusEvents():this.unbindFocusEvents())},o.componentWillUnmount=function(){this.props.onClose(this.props.children.props),this.props.draggable&&this.unbindDragEvents(),this.props.pauseOnFocusLoss&&this.unbindFocusEvents()},o.bindFocusEvents=function(){window.addEventListener("focus",this.playToast),window.addEventListener("blur",this.pauseToast)},o.unbindFocusEvents=function(){window.removeEventListener("focus",this.playToast),window.removeEventListener("blur",this.pauseToast)},o.bindDragEvents=function(){document.addEventListener("mousemove",this.onDragMove),document.addEventListener("mouseup",this.onDragEnd),document.addEventListener("touchmove",this.onDragMove),document.addEventListener("touchend",this.onDragEnd)},o.unbindDragEvents=function(){document.removeEventListener("mousemove",this.onDragMove),document.removeEventListener("mouseup",this.onDragEnd),document.removeEventListener("touchmove",this.onDragMove),document.removeEventListener("touchend",this.onDragEnd)},o.render=function(){var t,n=this,o=this.props,s=o.closeButton,r=o.children,i=o.autoClose,a=o.pauseOnHover,l=o.onClick,u=o.closeOnClick,c=o.type,p=o.hideProgressBar,d=o.closeToast,m=o.transition,h=o.position,y=o.className,b=o.bodyClassName,v=o.progressClassName,T=o.progressStyle,E=o.updateId,C=o.role,O=o.progress,_=o.rtl,N={className:g("Toastify__toast","Toastify__toast--"+c,(t={},t["Toastify__toast--rtl"]=_,t),y)};i&&a&&(N.onMouseEnter=this.pauseToast,N.onMouseLeave=this.playToast),u&&(N.onClick=function(e){l&&l(e),n.flag.canCloseOnClick&&d()});var x=parseFloat(O)===O;return e.createElement(m,{in:this.props.in,appear:!0,onExited:this.onExitTransitionEnd,position:h,preventExitTransition:this.state.preventExitTransition},e.createElement("div",f({onClick:l},N,{ref:function(e){return n.ref=e},onMouseDown:this.onDragStart,onTouchStart:this.onDragStart,onMouseUp:this.onDragTransitionEnd,onTouchEnd:this.onDragTransitionEnd}),e.createElement("div",f({},this.props.in&&{role:C},{className:g("Toastify__toast-body",b)}),r),s&&s,(i||x)&&e.createElement(R,f({},E&&!x?{key:"pb-"+E}:{},{rtl:_,delay:i,isRunning:this.state.isRunning,closeToast:d,hide:p,type:c,style:T,className:v,controlledProgress:x,progress:O}))))},n}(o);function B(t){var n=t.closeToast,o=t.type,s=t.ariaLabel;return e.createElement("button",{className:"Toastify__close-button Toastify__close-button--"+o,type:"button",onClick:function(e){e.stopPropagation(),n(e)},"aria-label":s},"✖︎")}F.propTypes={closeButton:s.oneOfType([s.node,s.bool]).isRequired,autoClose:w.isRequired,children:s.node.isRequired,closeToast:s.func.isRequired,position:s.oneOf(_(m)).isRequired,pauseOnHover:s.bool.isRequired,pauseOnFocusLoss:s.bool.isRequired,closeOnClick:s.bool.isRequired,transition:s.func.isRequired,rtl:s.bool.isRequired,hideProgressBar:s.bool.isRequired,draggable:s.bool.isRequired,draggablePercent:s.number.isRequired,in:s.bool,onExited:s.func,onOpen:s.func,onClose:s.func,type:s.oneOf(_(h)),className:s.oneOfType([s.string,s.object]),bodyClassName:s.oneOfType([s.string,s.object]),progressClassName:s.oneOfType([s.string,s.object]),progressStyle:s.object,progress:s.number,updateId:s.oneOfType([s.string,s.number]),ariaLabel:s.string,containerId:s.oneOfType([s.string,s.number]),role:s.string},F.defaultProps={type:h.DEFAULT,in:!0,onOpen:C,onClose:C,className:null,bodyClassName:null,progressClassName:null,updateId:null},B.propTypes={closeToast:s.func,arialLabel:s.string},B.defaultProps={ariaLabel:"close"};var j=L({enter:"Toastify__bounce-enter",exit:"Toastify__bounce-exit",appendPosition:!0}),A=(L({enter:"Toastify__slide-enter",exit:"Toastify__slide-exit",duration:[450,750],appendPosition:!0}),L({enter:"Toastify__zoom-enter",exit:"Toastify__zoom-exit"}),L({enter:"Toastify__flip-enter",exit:"Toastify__flip-exit"}),function(o){function s(){for(var e,t=arguments.length,n=new Array(t),s=0;s<t;s++)n[s]=arguments[s];return(e=o.call.apply(o,[this].concat(n))||this).state={toast:[]},e.toastKey=1,e.collection={},e.isToastActive=function(t){return-1!==e.state.toast.indexOf(t)},e}u(s,o);var r=s.prototype;return r.componentDidMount=function(){var e=this;D.cancelEmit(T).on(y,(function(t,n){return e.ref?e.buildToast(t,n):null})).on(b,(function(t){return e.ref?null==t?e.clear():e.removeToast(t):null})).emit(v,this)},r.componentWillUnmount=function(){D.emit(T,this)},r.removeToast=function(e){this.setState({toast:this.state.toast.filter((function(t){return t!==e}))},this.dispatchChange)},r.dispatchChange=function(){D.emit(E,this.state.toast.length,this.props.containerId)},r.makeCloseButton=function(o,s,r){var i=this,a=this.props.closeButton;return t(o)||!1===o?a=o:!0===o&&(a=this.props.closeButton&&"boolean"!=typeof this.props.closeButton?this.props.closeButton:e.createElement(B,null)),!1!==a&&n(a,{closeToast:function(){return i.removeToast(s)},type:r})},r.getAutoCloseDelay=function(e){return!1===e||O(e)?e:this.props.autoClose},r.canBeRendered=function(e){return t(e)||"string"==typeof e||"number"==typeof e||"function"==typeof e},r.parseClassName=function(e){return"string"==typeof e?e:null!==e&&"object"==typeof e&&"toString"in e?e.toString():null},r.belongToContainer=function(e){return e.containerId===this.props.containerId},r.buildToast=function(e,o){var s=this,r=o.delay,i=l(o,["delay"]);if(!this.canBeRendered(e))throw new Error("The element you provided cannot be rendered. You provided an element of type "+typeof e);var a=i.toastId,u=i.updateId;if(!(this.props.enableMultiContainer&&!this.belongToContainer(i)||this.isToastActive(a)&&null==u)){var c=function(){return s.removeToast(a)},p={id:a,key:i.key||this.toastKey++,type:i.type,closeToast:c,updateId:i.updateId,rtl:this.props.rtl,position:i.position||this.props.position,transition:i.transition||this.props.transition,className:this.parseClassName(i.className||this.props.toastClassName),bodyClassName:this.parseClassName(i.bodyClassName||this.props.bodyClassName),onClick:i.onClick||this.props.onClick,closeButton:this.makeCloseButton(i.closeButton,a,i.type),pauseOnHover:"boolean"==typeof i.pauseOnHover?i.pauseOnHover:this.props.pauseOnHover,pauseOnFocusLoss:"boolean"==typeof i.pauseOnFocusLoss?i.pauseOnFocusLoss:this.props.pauseOnFocusLoss,draggable:"boolean"==typeof i.draggable?i.draggable:this.props.draggable,draggablePercent:"number"!=typeof i.draggablePercent||isNaN(i.draggablePercent)?this.props.draggablePercent:i.draggablePercent,closeOnClick:"boolean"==typeof i.closeOnClick?i.closeOnClick:this.props.closeOnClick,progressClassName:this.parseClassName(i.progressClassName||this.props.progressClassName),progressStyle:this.props.progressStyle,autoClose:this.getAutoCloseDelay(i.autoClose),hideProgressBar:"boolean"==typeof i.hideProgressBar?i.hideProgressBar:this.props.hideProgressBar,progress:parseFloat(i.progress),role:"string"==typeof i.role?i.role:this.props.role};"function"==typeof i.onOpen&&(p.onOpen=i.onOpen),"function"==typeof i.onClose&&(p.onClose=i.onClose),t(e)&&"string"!=typeof e.type&&"number"!=typeof e.type?e=n(e,{closeToast:c}):"function"==typeof e&&(e=e({closeToast:c})),O(r)?setTimeout((function(){s.appendToast(p,e,i.staleToastId)}),r):this.appendToast(p,e,i.staleToastId)}},r.appendToast=function(e,t,n){var o,s=e.id,r=e.updateId;this.collection=f({},this.collection,((o={})[s]={options:e,content:t,position:e.position},o)),this.setState({toast:(r?[].concat(this.state.toast):[].concat(this.state.toast,[s])).filter((function(e){return e!==n}))},this.dispatchChange)},r.clear=function(){this.setState({toast:[]})},r.renderToast=function(){var t=this,n={},o=this.props,s=o.className,r=o.style;return(o.newestOnTop?Object.keys(this.collection).reverse():Object.keys(this.collection)).forEach((function(o){var s=t.collection[o],r=s.position,i=s.options,a=s.content;n[r]||(n[r]=[]),-1!==t.state.toast.indexOf(i.id)?n[r].push(e.createElement(F,f({},i,{isDocumentHidden:t.state.isDocumentHidden,key:"toast-"+i.key}),a)):(n[r].push(null),delete t.collection[o])})),Object.keys(n).map((function(o){var i,a=1===n[o].length&&null===n[o][0],l={className:g("Toastify__toast-container","Toastify__toast-container--"+o,(i={},i["Toastify__toast-container--rtl"]=t.props.rtl,i),t.parseClassName(s)),style:a?f({},r,{pointerEvents:"none"}):f({},r)};return e.createElement(d,f({},l,{key:"container-"+o}),n[o])}))},r.render=function(){var t=this;return e.createElement("div",{ref:function(e){return t.ref=e},className:"Toastify"},this.renderToast())},s}(o));A.propTypes={position:s.oneOf(_(m)),autoClose:w,closeButton:s.oneOfType([s.node,s.bool]),hideProgressBar:s.bool,pauseOnHover:s.bool,closeOnClick:s.bool,newestOnTop:s.bool,className:s.oneOfType([s.string,s.object]),style:s.object,toastClassName:s.oneOfType([s.string,s.object]),bodyClassName:s.oneOfType([s.string,s.object]),progressClassName:s.oneOfType([s.string,s.object]),progressStyle:s.object,transition:s.func,rtl:s.bool,draggable:s.bool,draggablePercent:s.number,pauseOnFocusLoss:s.bool,enableMultiContainer:s.bool,containerId:s.oneOfType([s.string,s.number]),role:s.string,onClick:s.func},A.defaultProps={position:m.TOP_RIGHT,transition:j,rtl:!1,autoClose:5e3,hideProgressBar:!1,closeButton:e.createElement(B,null),pauseOnHover:!0,pauseOnFocusLoss:!0,closeOnClick:!0,newestOnTop:!1,draggable:!0,draggablePercent:80,className:null,style:null,toastClassName:null,bodyClassName:null,progressClassName:null,progressStyle:null,role:"alert"};var S=new Map,M=null,q=null,H={},U=[],X=!1;function G(){return S.size>0}function Q(e,t){var n=function(e){return G()?e?S.get(e):S.get(M):null}(t.containerId);if(!n)return null;var o=n.collection[e];return void 0===o?null:o}function z(e,t){return f({},e,{type:t,toastId:Y(e)})}function W(){return(Math.random().toString(36)+Date.now().toString(36)).substr(2,10)}function Y(e){return e&&("string"==typeof e.toastId||"number"==typeof e.toastId&&!isNaN(e.toastId))?e.toastId:W()}function K(t,n){return G()?D.emit(y,t,n):(U.push({action:y,content:t,options:n}),X&&N&&(X=!1,q=document.createElement("div"),document.body.appendChild(q),c(e.createElement(A,H),q))),n.toastId}var J=function(e,t){return K(e,z(t,t&&t.type||h.DEFAULT))},V=function(e){h[e]!==h.DEFAULT&&(J[h[e].toLowerCase()]=function(t,n){return K(t,z(n,n&&n.type||h[e]))})};for(var Z in h)V(Z);J.warn=J.warning,J.dismiss=function(e){return void 0===e&&(e=null),G()&&D.emit(b,e)},J.isActive=function(e){var t=!1;return S.size>0&&S.forEach((function(n){n.isToastActive(e)&&(t=!0)})),t},J.update=function(e,t){void 0===t&&(t={}),setTimeout((function(){var n=Q(e,t);if(n){var o=n.options,s=n.content,r=f({},o,{},t,{toastId:t.toastId||e});t.toastId&&t.toastId!==e?r.staleToastId=e:r.updateId=W();var i=void 0!==r.render?r.render:s;delete r.render,K(i,r)}}),0)},J.done=function(e){J.update(e,{progress:1})},J.onChange=function(e){"function"==typeof e&&D.on(E,e)},J.configure=function(e){X=!0,H=e},J.POSITION=m,J.TYPE=h,D.on(v,(function(e){M=e.props.containerId||e,S.set(M,e),U.forEach((function(e){D.emit(e.action,e.content,e.options)})),U=[]})).on(T,(function(e){e?S.delete(e.props.containerId||e):S.clear(),0===S.size&&D.off(y).off(b),N&&q&&document.body.removeChild(q)}));i(".cui .Toastify__toast{min-height:unset!important;padding:unset;overflow:unset;font-family:unset;box-shadow:unset}.cui .Toastify__toast--default,.cui .Toastify__toast-container{color:unset}");const $=e=>{switch(e){case"success":return"text-success icon-check-outline";case"error":return"text-danger icon-error-outline";case"warning":return"text-warning icon-warning-outline";case"info":return"text-info icon-info-outline";case"none":return null;default:return"text-muted icon-alert"}},ee=({type:t})=>e.createElement("div",{className:"toast__icon "+($(t)||"")}),te=({title:t,message:n,type:o,copyError:s})=>e.createElement("div",{className:"toast"},e.createElement(ee,{type:o}),e.createElement("div",{className:"toast__body"},t?e.createElement("div",{className:"toast__title"},t):null,n?e.createElement("div",{className:"toast__message"},n,"error"===o&&s?e.createElement(e.Fragment,null,e.createElement("br",null),e.createElement("br",null),e.createElement("a",{onClick:()=>(e=>{const t=document.createElement("textarea");t.value=e,t.setAttribute("readonly",""),t.style={position:"absolute",left:"-9999px"},document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t)})(n)},"Copy to clipboard")):null):null)),ne=L({enter:"fadeIn",exit:"fadeOut",duration:300}),oe=(t,n,o,s=!0,r="_GLOBAL_")=>J(e.createElement(te,{type:t,title:n,message:o,copyError:s}),{containerId:r});oe.success=(...e)=>oe("success",...e),oe.error=(...e)=>oe("error",...e),oe.warning=(...e)=>oe("warning",...e),oe.info=(...e)=>oe("info",...e),oe.none=(...e)=>oe("none",...e),oe.update=(...e)=>J.update(...e),oe.dismiss=(...e)=>J.dismiss(...e);const se=t=>e.createElement(A,r({transition:ne},t,{closeButton:!1,style:{width:"unset"}}));se.propTypes={position:s.string,autoClose:s.number,draggable:s.bool,hideProgressBar:s.bool,containerId:s.oneOfType([s.string,s.number])},se.defaultProps={position:"bottom-right",autoClose:5e3,draggable:!1,hideProgressBar:!0,containerId:"_GLOBAL_"};export{se as ToastContainer,oe as toast};
