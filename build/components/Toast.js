import e,{isValidElement as t,cloneElement as n,Component as o}from"react";import s from"prop-types";import{a as r}from"../_rollupPluginBabelHelpers-b60338eb.js";import{s as i}from"../style-inject.es-1f59c1d0.js";import{a,_ as l}from"../inheritsLoose-5aebf23c.js";import{render as u}from"react-dom";import{Transition as c,TransitionGroup as p}from"react-transition-group";function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}var f=function(e,t){return e(t={exports:{}},t.exports),t.exports}((function(e){
/*!
  Copyright (c) 2017 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/
!function(){var t={}.hasOwnProperty;function n(){for(var e=[],o=0;o<arguments.length;o++){var s=arguments[o];if(s){var r=typeof s;if("string"===r||"number"===r)e.push(s);else if(Array.isArray(s)&&s.length){var i=n.apply(null,s);i&&e.push(i)}else if("object"===r)for(var a in s)t.call(s,a)&&s[a]&&e.push(a)}}return e.join(" ")}e.exports?(n.default=n,e.exports=n):window.classNames=n}()})),g={TOP_LEFT:"top-left",TOP_RIGHT:"top-right",TOP_CENTER:"top-center",BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",BOTTOM_CENTER:"bottom-center"},m={INFO:"info",SUCCESS:"success",WARNING:"warning",ERROR:"error",DEFAULT:"default"},h=0,y=1,b=2,v=3,T=4,E=function(){};function C(e){return"number"==typeof e&&!isNaN(e)&&e>0}function O(e){return Object.keys(e).map((function(t){return e[t]}))}var _=!("undefined"==typeof window||!window.document||!window.document.createElement);var N,x=((N=function(e,t,n){var o=e[t];return!1===o||C(o)?null:new Error(n+" expect "+t+" \n      to be a valid Number > 0 or equal to false. "+o+" given.")}).isRequired=function(e,t,n){if(void 0===e[t])return new Error("The prop "+t+" is marked as required in \n      "+n+", but its value is undefined.");N(e,t,n)},N),w={list:new Map,emitQueue:new Map,on:function(e,t){return this.list.has(e)||this.list.set(e,[]),this.list.get(e).push(t),this},off:function(e){return this.list.delete(e),this},cancelEmit:function(e){var t=this.emitQueue.get(e);return t&&(t.forEach((function(e){return clearTimeout(e)})),this.emitQueue.delete(e)),this},emit:function(e){for(var t=this,n=arguments.length,o=new Array(n>1?n-1:0),s=1;s<n;s++)o[s-1]=arguments[s];this.list.has(e)&&this.list.get(e).forEach((function(n){var s=setTimeout((function(){n.apply(void 0,o)}),0);t.emitQueue.has(e)||t.emitQueue.set(e,[]),t.emitQueue.get(e).push(s)}))}};function D(t){var n=t.enter,o=t.exit,s=t.duration,r=void 0===s?750:s,i=t.appendPosition,l=void 0!==i&&i;return function(t){var s,i,u=t.children,p=t.position,f=t.preventExitTransition,g=a(t,["children","position","preventExitTransition"]),m=l?n+"--"+p:n,h=l?o+"--"+p:o;Array.isArray(r)&&2===r.length?(s=r[0],i=r[1]):s=i=r;return e.createElement(c,d({},g,{timeout:f?0:{enter:s,exit:i},onEnter:function(e){e.classList.add(m),e.style.animationFillMode="forwards",e.style.animationDuration=.001*s+"s"},onEntered:function(e){e.classList.remove(m),e.style.cssText=""},onExit:f?E:function(e){e.classList.add(h),e.style.animationFillMode="forwards",e.style.animationDuration=.001*i+"s"}}),u)}}function L(t){var n,o,s=t.delay,r=t.isRunning,i=t.closeToast,a=t.type,l=t.hide,u=t.className,c=t.style,p=t.controlledProgress,g=t.progress,m=t.rtl,h=d({},c,{animationDuration:s+"ms",animationPlayState:r?"running":"paused",opacity:l?0:1,transform:p?"scaleX("+g+")":null}),y=f("Toastify__progress-bar",p?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated","Toastify__progress-bar--"+a,((n={})["Toastify__progress-bar--rtl"]=m,n),u),b=((o={})[p&&g>=1?"onTransitionEnd":"onAnimationEnd"]=p&&g<1?null:i,o);return e.createElement("div",d({className:y,style:h},b))}function R(e){return e.targetTouches&&e.targetTouches.length>=1?e.targetTouches[0].clientX:e.clientX}function I(e){return e.targetTouches&&e.targetTouches.length>=1?e.targetTouches[0].clientY:e.clientY}L.propTypes={delay:x.isRequired,isRunning:s.bool.isRequired,closeToast:s.func.isRequired,rtl:s.bool.isRequired,type:s.string,hide:s.bool,className:s.oneOfType([s.string,s.object]),progress:s.number,controlledProgress:s.bool},L.defaultProps={type:m.DEFAULT,hide:!1};var P=_&&/(msie|trident)/i.test(navigator.userAgent),k=function(t){function n(){for(var e,n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return(e=t.call.apply(t,[this].concat(o))||this).state={isRunning:!0,preventExitTransition:!1},e.flag={canCloseOnClick:!0,canDrag:!1},e.drag={start:0,x:0,y:0,deltaX:0,removalDistance:0},e.boundingRect=null,e.ref=null,e.pauseToast=function(){e.props.autoClose&&e.setState({isRunning:!1})},e.playToast=function(){e.props.autoClose&&e.setState({isRunning:!0})},e.onDragStart=function(t){e.flag.canCloseOnClick=!0,e.flag.canDrag=!0,e.boundingRect=e.ref.getBoundingClientRect(),e.ref.style.transition="",e.drag.start=e.drag.x=R(t.nativeEvent),e.drag.removalDistance=e.ref.offsetWidth*(e.props.draggablePercent/100)},e.onDragMove=function(t){e.flag.canDrag&&(e.state.isRunning&&e.pauseToast(),e.drag.x=R(t),e.drag.deltaX=e.drag.x-e.drag.start,e.drag.y=I(t),e.drag.start!==e.drag.x&&(e.flag.canCloseOnClick=!1),e.ref.style.transform="translateX("+e.drag.deltaX+"px)",e.ref.style.opacity=1-Math.abs(e.drag.deltaX/e.drag.removalDistance))},e.onDragEnd=function(t){if(e.flag.canDrag){if(e.flag.canDrag=!1,Math.abs(e.drag.deltaX)>e.drag.removalDistance)return void e.setState({preventExitTransition:!0},e.props.closeToast);e.ref.style.transition="transform 0.2s, opacity 0.2s",e.ref.style.transform="translateX(0)",e.ref.style.opacity=1}},e.onDragTransitionEnd=function(){if(e.boundingRect){var t=e.boundingRect,n=t.top,o=t.bottom,s=t.left,r=t.right;e.props.pauseOnHover&&e.drag.x>=s&&e.drag.x<=r&&e.drag.y>=n&&e.drag.y<=o?e.pauseToast():e.playToast()}},e.onExitTransitionEnd=function(){if(P)e.props.onExited();else{var t=e.ref.scrollHeight,n=e.ref.style;requestAnimationFrame((function(){n.minHeight="initial",n.height=t+"px",n.transition="all 0.4s ",requestAnimationFrame((function(){n.height=0,n.padding=0,n.margin=0})),setTimeout((function(){return e.props.onExited()}),400)}))}},e}l(n,t);var o=n.prototype;return o.componentDidMount=function(){this.props.onOpen(this.props.children.props),this.props.draggable&&this.bindDragEvents(),this.props.pauseOnFocusLoss&&this.bindFocusEvents()},o.componentDidUpdate=function(e){e.draggable!==this.props.draggable&&(this.props.draggable?this.bindDragEvents():this.unbindDragEvents()),e.pauseOnFocusLoss!==this.props.pauseOnFocusLoss&&(this.props.pauseOnFocusLoss?this.bindFocusEvents():this.unbindFocusEvents())},o.componentWillUnmount=function(){this.props.onClose(this.props.children.props),this.props.draggable&&this.unbindDragEvents(),this.props.pauseOnFocusLoss&&this.unbindFocusEvents()},o.bindFocusEvents=function(){window.addEventListener("focus",this.playToast),window.addEventListener("blur",this.pauseToast)},o.unbindFocusEvents=function(){window.removeEventListener("focus",this.playToast),window.removeEventListener("blur",this.pauseToast)},o.bindDragEvents=function(){document.addEventListener("mousemove",this.onDragMove),document.addEventListener("mouseup",this.onDragEnd),document.addEventListener("touchmove",this.onDragMove),document.addEventListener("touchend",this.onDragEnd)},o.unbindDragEvents=function(){document.removeEventListener("mousemove",this.onDragMove),document.removeEventListener("mouseup",this.onDragEnd),document.removeEventListener("touchmove",this.onDragMove),document.removeEventListener("touchend",this.onDragEnd)},o.render=function(){var t,n=this,o=this.props,s=o.closeButton,r=o.children,i=o.autoClose,a=o.pauseOnHover,l=o.onClick,u=o.closeOnClick,c=o.type,p=o.hideProgressBar,g=o.closeToast,m=o.transition,h=o.position,y=o.className,b=o.bodyClassName,v=o.progressClassName,T=o.progressStyle,E=o.updateId,C=o.role,O=o.progress,_=o.rtl,N={className:f("Toastify__toast","Toastify__toast--"+c,(t={},t["Toastify__toast--rtl"]=_,t),y)};i&&a&&(N.onMouseEnter=this.pauseToast,N.onMouseLeave=this.playToast),u&&(N.onClick=function(e){l&&l(e),n.flag.canCloseOnClick&&g()});var x=parseFloat(O)===O;return e.createElement(m,{in:this.props.in,appear:!0,onExited:this.onExitTransitionEnd,position:h,preventExitTransition:this.state.preventExitTransition},e.createElement("div",d({onClick:l},N,{ref:function(e){return n.ref=e},onMouseDown:this.onDragStart,onTouchStart:this.onDragStart,onMouseUp:this.onDragTransitionEnd,onTouchEnd:this.onDragTransitionEnd}),e.createElement("div",d({},this.props.in&&{role:C},{className:f("Toastify__toast-body",b)}),r),s&&s,(i||x)&&e.createElement(L,d({},E&&!x?{key:"pb-"+E}:{},{rtl:_,delay:i,isRunning:this.state.isRunning,closeToast:g,hide:p,type:c,style:T,className:v,controlledProgress:x,progress:O}))))},n}(o);function F(t){var n=t.closeToast,o=t.type,s=t.ariaLabel;return e.createElement("button",{className:"Toastify__close-button Toastify__close-button--"+o,type:"button",onClick:function(e){e.stopPropagation(),n(e)},"aria-label":s},"✖︎")}k.propTypes={closeButton:s.oneOfType([s.node,s.bool]).isRequired,autoClose:x.isRequired,children:s.node.isRequired,closeToast:s.func.isRequired,position:s.oneOf(O(g)).isRequired,pauseOnHover:s.bool.isRequired,pauseOnFocusLoss:s.bool.isRequired,closeOnClick:s.bool.isRequired,transition:s.func.isRequired,rtl:s.bool.isRequired,hideProgressBar:s.bool.isRequired,draggable:s.bool.isRequired,draggablePercent:s.number.isRequired,in:s.bool,onExited:s.func,onOpen:s.func,onClose:s.func,type:s.oneOf(O(m)),className:s.oneOfType([s.string,s.object]),bodyClassName:s.oneOfType([s.string,s.object]),progressClassName:s.oneOfType([s.string,s.object]),progressStyle:s.object,progress:s.number,updateId:s.oneOfType([s.string,s.number]),ariaLabel:s.string,containerId:s.oneOfType([s.string,s.number]),role:s.string},k.defaultProps={type:m.DEFAULT,in:!0,onOpen:E,onClose:E,className:null,bodyClassName:null,progressClassName:null,updateId:null},F.propTypes={closeToast:s.func,arialLabel:s.string},F.defaultProps={ariaLabel:"close"};var B=D({enter:"Toastify__bounce-enter",exit:"Toastify__bounce-exit",appendPosition:!0}),A=(D({enter:"Toastify__slide-enter",exit:"Toastify__slide-exit",duration:[450,750],appendPosition:!0}),D({enter:"Toastify__zoom-enter",exit:"Toastify__zoom-exit"}),D({enter:"Toastify__flip-enter",exit:"Toastify__flip-exit"}),function(o){function s(){for(var e,t=arguments.length,n=new Array(t),s=0;s<t;s++)n[s]=arguments[s];return(e=o.call.apply(o,[this].concat(n))||this).state={toast:[]},e.toastKey=1,e.collection={},e.isToastActive=function(t){return-1!==e.state.toast.indexOf(t)},e}l(s,o);var r=s.prototype;return r.componentDidMount=function(){var e=this;w.cancelEmit(v).on(h,(function(t,n){return e.ref?e.buildToast(t,n):null})).on(y,(function(t){return e.ref?null==t?e.clear():e.removeToast(t):null})).emit(b,this)},r.componentWillUnmount=function(){w.emit(v,this)},r.removeToast=function(e){this.setState({toast:this.state.toast.filter((function(t){return t!==e}))},this.dispatchChange)},r.dispatchChange=function(){w.emit(T,this.state.toast.length,this.props.containerId)},r.makeCloseButton=function(o,s,r){var i=this,a=this.props.closeButton;return t(o)||!1===o?a=o:!0===o&&(a=this.props.closeButton&&"boolean"!=typeof this.props.closeButton?this.props.closeButton:e.createElement(F,null)),!1!==a&&n(a,{closeToast:function(){return i.removeToast(s)},type:r})},r.getAutoCloseDelay=function(e){return!1===e||C(e)?e:this.props.autoClose},r.canBeRendered=function(e){return t(e)||"string"==typeof e||"number"==typeof e||"function"==typeof e},r.parseClassName=function(e){return"string"==typeof e?e:null!==e&&"object"==typeof e&&"toString"in e?e.toString():null},r.belongToContainer=function(e){return e.containerId===this.props.containerId},r.buildToast=function(e,o){var s=this,r=o.delay,i=a(o,["delay"]);if(!this.canBeRendered(e))throw new Error("The element you provided cannot be rendered. You provided an element of type "+typeof e);var l=i.toastId,u=i.updateId;if(!(this.props.enableMultiContainer&&!this.belongToContainer(i)||this.isToastActive(l)&&null==u)){var c=function(){return s.removeToast(l)},p={id:l,key:i.key||this.toastKey++,type:i.type,closeToast:c,updateId:i.updateId,rtl:this.props.rtl,position:i.position||this.props.position,transition:i.transition||this.props.transition,className:this.parseClassName(i.className||this.props.toastClassName),bodyClassName:this.parseClassName(i.bodyClassName||this.props.bodyClassName),onClick:i.onClick||this.props.onClick,closeButton:this.makeCloseButton(i.closeButton,l,i.type),pauseOnHover:"boolean"==typeof i.pauseOnHover?i.pauseOnHover:this.props.pauseOnHover,pauseOnFocusLoss:"boolean"==typeof i.pauseOnFocusLoss?i.pauseOnFocusLoss:this.props.pauseOnFocusLoss,draggable:"boolean"==typeof i.draggable?i.draggable:this.props.draggable,draggablePercent:"number"!=typeof i.draggablePercent||isNaN(i.draggablePercent)?this.props.draggablePercent:i.draggablePercent,closeOnClick:"boolean"==typeof i.closeOnClick?i.closeOnClick:this.props.closeOnClick,progressClassName:this.parseClassName(i.progressClassName||this.props.progressClassName),progressStyle:this.props.progressStyle,autoClose:this.getAutoCloseDelay(i.autoClose),hideProgressBar:"boolean"==typeof i.hideProgressBar?i.hideProgressBar:this.props.hideProgressBar,progress:parseFloat(i.progress),role:"string"==typeof i.role?i.role:this.props.role};"function"==typeof i.onOpen&&(p.onOpen=i.onOpen),"function"==typeof i.onClose&&(p.onClose=i.onClose),t(e)&&"string"!=typeof e.type&&"number"!=typeof e.type?e=n(e,{closeToast:c}):"function"==typeof e&&(e=e({closeToast:c})),C(r)?setTimeout((function(){s.appendToast(p,e,i.staleToastId)}),r):this.appendToast(p,e,i.staleToastId)}},r.appendToast=function(e,t,n){var o,s=e.id,r=e.updateId;this.collection=d({},this.collection,((o={})[s]={options:e,content:t,position:e.position},o)),this.setState({toast:(r?[].concat(this.state.toast):[].concat(this.state.toast,[s])).filter((function(e){return e!==n}))},this.dispatchChange)},r.clear=function(){this.setState({toast:[]})},r.renderToast=function(){var t=this,n={},o=this.props,s=o.className,r=o.style;return(o.newestOnTop?Object.keys(this.collection).reverse():Object.keys(this.collection)).forEach((function(o){var s=t.collection[o],r=s.position,i=s.options,a=s.content;n[r]||(n[r]=[]),-1!==t.state.toast.indexOf(i.id)?n[r].push(e.createElement(k,d({},i,{isDocumentHidden:t.state.isDocumentHidden,key:"toast-"+i.key}),a)):(n[r].push(null),delete t.collection[o])})),Object.keys(n).map((function(o){var i,a=1===n[o].length&&null===n[o][0],l={className:f("Toastify__toast-container","Toastify__toast-container--"+o,(i={},i["Toastify__toast-container--rtl"]=t.props.rtl,i),t.parseClassName(s)),style:a?d({},r,{pointerEvents:"none"}):d({},r)};return e.createElement(p,d({},l,{key:"container-"+o}),n[o])}))},r.render=function(){var t=this;return e.createElement("div",{ref:function(e){return t.ref=e},className:"Toastify"},this.renderToast())},s}(o));A.propTypes={position:s.oneOf(O(g)),autoClose:x,closeButton:s.oneOfType([s.node,s.bool]),hideProgressBar:s.bool,pauseOnHover:s.bool,closeOnClick:s.bool,newestOnTop:s.bool,className:s.oneOfType([s.string,s.object]),style:s.object,toastClassName:s.oneOfType([s.string,s.object]),bodyClassName:s.oneOfType([s.string,s.object]),progressClassName:s.oneOfType([s.string,s.object]),progressStyle:s.object,transition:s.func,rtl:s.bool,draggable:s.bool,draggablePercent:s.number,pauseOnFocusLoss:s.bool,enableMultiContainer:s.bool,containerId:s.oneOfType([s.string,s.number]),role:s.string,onClick:s.func},A.defaultProps={position:g.TOP_RIGHT,transition:B,rtl:!1,autoClose:5e3,hideProgressBar:!1,closeButton:e.createElement(F,null),pauseOnHover:!0,pauseOnFocusLoss:!0,closeOnClick:!0,newestOnTop:!1,draggable:!0,draggablePercent:80,className:null,style:null,toastClassName:null,bodyClassName:null,progressClassName:null,progressStyle:null,role:"alert"};var S=new Map,j=null,M=null,q={},H=[],U=!1;function X(){return S.size>0}function G(e,t){var n=function(e){return X()?e?S.get(e):S.get(j):null}(t.containerId);if(!n)return null;var o=n.collection[e];return void 0===o?null:o}function Q(e,t){return d({},e,{type:t,toastId:W(e)})}function z(){return(Math.random().toString(36)+Date.now().toString(36)).substr(2,10)}function W(e){return e&&("string"==typeof e.toastId||"number"==typeof e.toastId&&!isNaN(e.toastId))?e.toastId:z()}function Y(t,n){return X()?w.emit(h,t,n):(H.push({action:h,content:t,options:n}),U&&_&&(U=!1,M=document.createElement("div"),document.body.appendChild(M),u(e.createElement(A,q),M))),n.toastId}var K=function(e,t){return Y(e,Q(t,t&&t.type||m.DEFAULT))},J=function(e){m[e]!==m.DEFAULT&&(K[m[e].toLowerCase()]=function(t,n){return Y(t,Q(n,n&&n.type||m[e]))})};for(var V in m)J(V);K.warn=K.warning,K.dismiss=function(e){return void 0===e&&(e=null),X()&&w.emit(y,e)},K.isActive=function(e){var t=!1;return S.size>0&&S.forEach((function(n){n.isToastActive(e)&&(t=!0)})),t},K.update=function(e,t){void 0===t&&(t={}),setTimeout((function(){var n=G(e,t);if(n){var o=n.options,s=n.content,r=d({},o,{},t,{toastId:t.toastId||e});t.toastId&&t.toastId!==e?r.staleToastId=e:r.updateId=z();var i=void 0!==r.render?r.render:s;delete r.render,Y(i,r)}}),0)},K.done=function(e){K.update(e,{progress:1})},K.onChange=function(e){"function"==typeof e&&w.on(T,e)},K.configure=function(e){U=!0,q=e},K.POSITION=g,K.TYPE=m,w.on(b,(function(e){j=e.props.containerId||e,S.set(j,e),H.forEach((function(e){w.emit(e.action,e.content,e.options)})),H=[]})).on(v,(function(e){e?S.delete(e.props.containerId||e):S.clear(),0===S.size&&w.off(h).off(y),_&&M&&document.body.removeChild(M)}));i(".cui .Toastify__toast{min-height:unset!important;padding:unset;overflow:unset;font-family:unset;box-shadow:unset}.cui .Toastify__toast--default,.cui .Toastify__toast-container{color:unset}");const Z=e=>{switch(e){case"success":return"text-success icon-check-outline";case"error":return"text-danger icon-error-outline";case"warning":return"text-warning icon-warning-outline";case"info":return"text-info icon-info-outline";case"none":return null;default:return"text-muted icon-alert"}},$=({type:t})=>e.createElement("div",{className:"toast__icon "+(Z(t)||"")}),ee=({title:t,message:n,type:o,copyError:s})=>e.createElement("div",{className:"toast"},e.createElement($,{type:o}),e.createElement("div",{className:"toast__body"},t?e.createElement("div",{className:"toast__title"},t):null,n?e.createElement("div",{className:"toast__message"},n,"error"===o&&s?e.createElement(e.Fragment,null,e.createElement("br",null),e.createElement("br",null),e.createElement("a",{onClick:()=>(e=>{const t=document.createElement("textarea");t.value=e,t.setAttribute("readonly",""),t.style={position:"absolute",left:"-9999px"},document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t)})(n)},"Copy to clipboard")):null):null)),te=D({enter:"fadeIn",exit:"fadeOut",duration:300}),ne=(t,n,o,s=!0,r="_GLOBAL_")=>K(e.createElement(ee,{type:t,title:n,message:o,copyError:s}),{containerId:r});ne.success=(...e)=>ne("success",...e),ne.error=(...e)=>ne("error",...e),ne.warning=(...e)=>ne("warning",...e),ne.info=(...e)=>ne("info",...e),ne.none=(...e)=>ne("none",...e),ne.update=(...e)=>K.update(...e),ne.dismiss=(...e)=>K.dismiss(...e);const oe=t=>e.createElement(A,r({transition:te},t,{closeButton:!1,style:{width:"unset"}}));oe.propTypes={position:s.string,autoClose:s.number,draggable:s.bool,hideProgressBar:s.bool,containerId:s.oneOfType([s.string,s.number])},oe.defaultProps={position:"bottom-right",autoClose:5e3,draggable:!1,hideProgressBar:!0,containerId:"_GLOBAL_"};export{oe as ToastContainer,ne as toast};
