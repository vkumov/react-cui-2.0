import{_ as e,a as r}from"../../tslib.es6-a57c95d4.js";import t,{useMemo as o,useCallback as a}from"react";import l from"react-dropzone";import{a as n}from"../../index-fb409a55.js";import{s as i}from"../../style-inject.es-1f59c1d0.js";
/*!
 * bytes
 * Copyright(c) 2012-2014 TJ Holowaychuk
 * Copyright(c) 2015 Jed Watson
 * MIT Licensed
 */var c=function(e,r){if("string"==typeof e)return b(e);if("number"==typeof e)return g(e,r);return null},s=g,m=b,p=/\B(?=(\d{3})+(?!\d))/g,d=/(?:\.0*|(\.[^0]+)0+)$/,f={b:1,kb:1024,mb:1<<20,gb:1<<30,tb:Math.pow(1024,4),pb:Math.pow(1024,5)},u=/^((-|\+)?(\d+(?:\.\d+)?)) *(kb|mb|gb|tb|pb)$/i;function g(e,r){if(!Number.isFinite(e))return null;var t=Math.abs(e),o=r&&r.thousandsSeparator||"",a=r&&r.unitSeparator||"",l=r&&void 0!==r.decimalPlaces?r.decimalPlaces:2,n=Boolean(r&&r.fixedDecimals),i=r&&r.unit||"";i&&f[i.toLowerCase()]||(i=t>=f.pb?"PB":t>=f.tb?"TB":t>=f.gb?"GB":t>=f.mb?"MB":t>=f.kb?"KB":"B");var c=(e/f[i.toLowerCase()]).toFixed(l);return n||(c=c.replace(d,"$1")),o&&(c=c.split(".").map((function(e,r){return 0===r?e.replace(p,o):e})).join(".")),c+a+i}function b(e){if("number"==typeof e&&!isNaN(e))return e;if("string"!=typeof e)return null;var r,t=u.exec(e),o="b";return t?(r=parseFloat(t[1]),o=t[4].toLowerCase()):(r=parseInt(e,10),o="b"),isNaN(r)?null:Math.floor(f[o]*r)}c.format=s,c.parse=m;i(".cui .dropzone{-webkit-tap-highlight-color:rgba(0,0,0,0);background:#fff;border:1px dashed #dfdfdf;box-shadow:none;color:#58585b;cursor:pointer;display:block;height:auto;margin:0;padding:10px;position:relative;text-align:center}.cui .dropzone:focus{box-shadow:inset 0 0 0 2px rgba(1,124,173,.25);outline:none}.cui .dropzone:hover,.dropzone.dropzone-drag-hover{border-color:#049fd9}.cui .dropzone.dropzone--loose{padding:20px}.cui .dropzone.dropzone--compressed{padding:5px}.cui .dropzone:hover .file-drop__icon,.dropzone.dropzone-drag-hover .file-drop__icon{color:#049fd9}.cui .dropzone .dropzone-message .file-drop__icon{font-size:2rem}.cui .dropzone .dropzone-previews .file-drop__filecnt{color:#9e9ea2;margin-top:1.3125rem;text-align:left}.cui .dropzone .file-drop__card{margin-bottom:.625rem}.cui .form-group--error .dropzone{border-color:#e2231a;padding-right:40px}");var v=function(e){var r=e.file,o=e.i,a=e.removeFile,l=e.inline;return t.createElement("div",{className:"file-drop__card col-lg-4 col-md-6 col-sm-6",key:"".concat(o,"-").concat(r.name)},t.createElement("div",{className:"panel panel--bordered hover-emboss--small",onClick:function(e){return e.stopPropagation()}},l?t.createElement("div",{className:"panel__body flex flex-row"},t.createElement("div",{className:"text-left flex-fill",style:{maxWidth:"calc(100% - 20px)"}},t.createElement("div",{className:"text-ellipsis"},r.name),t.createElement("small",{style:{whiteSpace:"nowrap"}},c.format(r.size,{unitSeparator:" "}))),t.createElement("a",{className:"link pull-right",onClick:function(){return a(o)}},t.createElement("span",{className:"icon-close",title:"Remove the file."}))):t.createElement("div",{className:"panel__body"},t.createElement("a",{className:"link pull-right",style:{marginRight:"5px"},onClick:function(){return a(o)}},t.createElement("span",{className:"icon-close",title:"Remove the file."})),t.createElement("div",{className:"text-ellipsis half-margin-bottom"},r.name),t.createElement("span",{className:"file-icon text-muted icon-file-o qtr-margin-right"}),t.createElement("small",null,c.format(r.size,{unitSeparator:" "})))))},h=function(e){var r=e.inline,o=e.accept,a=e.maxFileSize;return r?t.createElement("div",{className:"dropzone-message flex flex-row flex-center-vertical"},t.createElement("h5",{className:"text-muted text-left flex-fill no-margin"},"Click Here or Drop Files to Upload"),o&&t.createElement("span",{className:"text-muted text-small half-margin-right"},"Allowed files: ","string"==typeof o?o.split(",").join(", "):o),t.createElement("span",{className:"file-drop__icon icon-upload"})):t.createElement("div",{className:"dropzone-message"},t.createElement("span",{className:"file-drop__icon icon-upload"}),t.createElement("h4",{className:"text-muted"},"Click Here or Drop Files to Upload"),o&&t.createElement("div",{className:"text-muted"},"Allowed files: ",o.split(",").join(", ")),a&&t.createElement("div",{className:"text-muted"},"Max file size: ",c.format(a,{unitSeparator:" "})))},x=function(e){var r=e.files,o=e.inline,a=e.showTotalSelected,l=e.removeFile;return Array.isArray(r)&&r.length?t.createElement("div",{className:"dropzone-previews"},t.createElement("div",{className:"file-drop__container container--fluid"},t.createElement("div",{className:"row"},r.map((function(e,r){return t.createElement(v,{key:r,file:e,i:r,inline:o,removeFile:l})})))),a?t.createElement("div",{className:"file-drop__filecnt"},r.length," selected"):null):null},E=function(i){var s=i.error,m=i.loose,p=i.compressed,d=i.inline,f=i.label,u=i.name,g=i.value,b=i.maxFileSize,v=i.maxFiles,E=i.onChange,z=i.showTotalSelected,N=e(i,["error","loose","compressed","inline","label","name","value","maxFileSize","maxFiles","onChange","showTotalSelected"]),_=o((function(){return b?c.parse(b):null}),[b]),w=o((function(){var e="";if(m&&(e="dropzone--loose"),p&&(e="dropzone--compressed"),d&&Array.isArray(g)&&g.length)switch(e){case"dropzone--loose":e="".concat(e," half-padding-bottom");break;case"dropzone--compressed":e="".concat(e," no-padding-bottom");break;default:e="".concat(e," qtr-padding-bottom")}return e}),[m,p,g,d]),y=a((function(e){_&&(e=e.filter((function(e){return e.size<=_}))),v&&e.length>v&&(e=e.slice(0,v)),E(e)}),[_,v,E]),k=function(e){E(Array.isArray(g)?g.filter((function(r,t){return e!==t})):g)};return t.createElement("div",{className:"form-group".concat(n(s,"form-group--error"))},t.createElement("div",{className:"form-group__text"},f?t.createElement("label",{htmlFor:u},f):null,t.createElement(l,r({},N,{onDrop:y,maxSize:_}),(function(e){var o=e.getRootProps,a=e.getInputProps;return t.createElement("div",r({className:"dropzone ".concat(w)},o()),t.createElement("input",r({},a())),t.createElement(x,{files:g,showTotalSelected:z,inline:d,removeFile:k}),Array.isArray(g)&&g.length?null:t.createElement(h,{maxFileSize:_,inline:d,accept:N.accept}))}))),s?t.createElement("div",{className:"help-block text-danger",role:"alert"},t.createElement("span",null,s)):null)};export{E as Dropzone};
