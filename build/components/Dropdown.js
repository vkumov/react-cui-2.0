import e from"react";import n from"prop-types";import{b as t,_ as a,a as o}from"../tslib.es6-633881f1.js";import{a as r}from"../index-74b9c8d0.js";import{ConditionalWrapper as l}from"./Conditional.js";var s=function(n){var t=n.selected,r=void 0!==t&&t,s=n.icon,i=void 0===s?null:s,c=n.children,d=n.className,p=void 0===d?null:d,u=a(n,["selected","icon","children","className"]);return e.createElement("a",o({className:(r?"selected":"")+(p?" "+p:"")},u),i?e.createElement("span",{className:"icon-"+i}):null,e.createElement(l,{condition:Boolean(i),wrapper:e.createElement("span",{className:"qtr-margin-left"})},c))};s.propTypes={selected:n.bool,children:n.node.isRequired,icon:n.string,className:n.string};var i=function(){return e.createElement("div",{className:"divider"})},c=function(n){var t=n.children;return e.createElement("div",{className:"dropdown__group"},t)};c.propTypes={children:n.node.isRequired};var d=function(n){var t=n.header;return e.createElement("div",{className:"dropdown__group-header"},t)};d.propTypes={header:n.node.isRequired};var p=function(n){var t=n.type,a=n.handleClick,o=n.className,r=n.header;switch(t){case"icon":return e.createElement("span",{onClick:a,className:o});case"link":return e.createElement("a",{onClick:a,className:o},r);case"div":return e.createElement("div",{onClick:a,className:o},r);case"button":return e.createElement("button",{type:"button",onClick:a,className:"btn "+o},r);default:return e.isValidElement(r)?e.cloneElement(r,{onClick:a}):null}},u=function(a){function o(e){var n=a.call(this,e)||this;return n.handleClick=function(e){var t=n.props,a=t.stopPropagation,o=t.onOpen,r=t.onClose;a&&(e.stopPropagation(),e.preventDefault()),n.state.isOpen?document.removeEventListener("click",n.handleOutsideClick,!1):document.addEventListener("click",n.handleOutsideClick,!1),n.setState((function(n){var t=!n.isOpen;return t&&o&&o(e),!t&&r&&r(e),{isOpen:t}}))},n.handleOutsideClick=function(e){!n.props.alwaysClose&&n.node.contains(e.target)||n.handleClick(e)},n.state={isOpen:!1},n}return t(o,a),o.prototype.render=function(){var n=this,t=this.props,a=t.openTo,o=t.children,l=t.type,s=t.className,i=t.header,c=t.divClassName,d=t.up,u=this.state.isOpen;return e.createElement("div",{className:"dropdown"+r(["left","center"].includes(a),"dropdown--"+a)+r(d,"dropdown--up")+r(u,"active")+r(c),ref:function(e){n.node=e}},e.createElement(p,{type:l,handleClick:this.handleClick,className:s,header:i}),e.createElement("div",{className:"dropdown__menu"},o))},o.propTypes={type:n.oneOf(["icon","link","div","button","custom"]),className:n.string,header:n.node,openTo:n.oneOf(["left","right","center"]),alwaysClose:n.bool,onOpen:n.func,onClose:n.func,stopPropagation:n.bool,divClassName:n.string,children:n.node.isRequired,up:n.bool},o.defaultProps={type:"button",openTo:!1,className:null,header:null,alwaysClose:!1,onOpen:null,onClose:null,stopPropagation:!1,divClassName:null,up:!1},o.Element=s,o.Divider=i,o.Group=c,o.GroupHeader=d,o}(e.Component);export{u as Dropdown};
