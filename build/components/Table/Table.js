import t from"react";import e from"prop-types";import{_ as n,a as r}from"../../tslib.es6-633881f1.js";import{a as o}from"../../index-74b9c8d0.js";import{DisplayIf as i}from"../Conditional.js";import"../Dropdown.js";import"../Pagination.js";import{DefaultTablePagination as a}from"./DefaultTablePagination.js";import{GenericTable as l}from"./GenericTable.js";var u=function(t){return Array.isArray(t)?t:[t]},p=function(e){var p=e.pagination,c=void 0===p?a:p,s=e.paginationLocation,f=void 0===s?"bottom-right":s,m=e.paginationProps,d=void 0===m?{icons:!0,firstAndLast:!0}:m,g=e.data,h=void 0===g?null:g,y=e.children,b=void 0===y?null:y,v=e.start,E=void 0===v?1:v,P=n(e,["pagination","paginationLocation","paginationProps","data","children","start"]),j=t.useState("number"==typeof E?E:0),x=j[0],A=j[1],C=t.useState(50),L=C[0],T=C[1],M=t.useMemo((function(){return b?u(b).find((function(t){return"tbody"===t.type})):null}),[b]),O=t.useMemo((function(){return b?u(b).find((function(t){return"thead"===t.type})):null}),[b]),k=t.useMemo((function(){return(h?h.length:u(M.props.children).length)||0}),[h,M]);return t.useEffect((function(){return A(0)}),[h,M]),t.createElement(t.Fragment,null,t.createElement(i,{condition:f.includes("top-")},t.createElement("div",{className:"flex base-margin-bottom"+o("top-right"===f,"flex-right")},t.createElement(c,{total:k,position:x,onPageChange:function(t,e){return A(e)},onPerPageChange:function(t){return T(t)},paginationProps:d}))),t.createElement(l,r({},P),O,t.createElement("tbody",null,h?h.slice(x,x+L).map((function(e,n){return t.createElement("tr",{key:n},e.map((function(e,n){return t.createElement("td",{key:n},e)})))})):u(M.props.children).slice(x,x+L))),t.createElement(i,{condition:f.includes("bottom-")},t.createElement("div",{className:"flex base-margin-top"+o("bottom-right"===f,"flex-right")},t.createElement(c,{total:k,position:x,onPageChange:function(t,e){return A(e)},onPerPageChange:function(t){return T(t)},perPageUp:!0,paginationProps:d}))))},c=["thead","tbody"],s=function(t){return c.includes(t)};p.propTypes={pagination:e.elementType,paginationLocation:e.oneOf(["top-left","bottom-left","bottom-right","top-right"]),data:e.arrayOf(e.arrayOf(e.any)),children:function(t,e,n){var r=t[e],o=new Error("Invalid prop `"+e+"` supplied to `"+n+"`. Validation failed, should be one of: "+c.join(", ")+".");if(Array.isArray(r)){if(!r.every((function(t){return s(t.type)})))return o}else if(r&&!s(r.type))return o;return null},start:e.number};export default p;
