import e from"react";import t from"prop-types";import{_ as o}from"../../_rollupPluginBabelHelpers-b60338eb.js";import{a as n}from"../../index-be24eb93.js";import{DisplayIf as a}from"../Conditional.js";import"../Dropdown.js";import"../Pagination.js";import{DefaultTablePagination as r}from"./DefaultTablePagination.js";import{GenericTable as i}from"./GenericTable.js";const l=e=>Array.isArray(e)?e:[e],p=t=>{let{pagination:r,paginationLocation:p,paginationProps:s,data:m,children:d,start:c}=t,g=o(t,["pagination","paginationLocation","paginationProps","data","children","start"]);const[f,u]=e.useState("number"==typeof c?c:0),[b,h]=e.useState(50),y=e.useMemo(()=>d?l(d).find(e=>"tbody"===e.type):null,[d]),P=e.useMemo(()=>d?l(d).find(e=>"thead"===e.type):null,[d]),E=e.useMemo(()=>(m?m.length:l(y.props.children).length)||0,[m,y]);return e.useEffect(()=>u(0),[m,y]),e.createElement(e.Fragment,null,e.createElement(a,{condition:p.includes("top-")},e.createElement("div",{className:"flex base-margin-bottom"+n("top-right"===p,"flex-right")},e.createElement(r,{total:E,position:f,onPageChange:(e,t)=>u(t),onPerPageChange:e=>h(e),paginationProps:s}))),e.createElement(i,g,P,e.createElement("tbody",null,m?m.slice(f,f+b).map((t,o)=>e.createElement("tr",{key:o},t.map((t,o)=>e.createElement("td",{key:o},t)))):l(y.props.children).slice(f,f+b))),e.createElement(a,{condition:p.includes("bottom-")},e.createElement("div",{className:"flex base-margin-top"+n("bottom-right"===p,"flex-right")},e.createElement(r,{total:E,position:f,onPageChange:(e,t)=>u(t),onPerPageChange:e=>h(e),perPageUp:!0,paginationProps:s}))))},s=["thead","tbody"],m=e=>s.includes(e);p.propTypes={pagination:t.elementType,paginationLocation:t.oneOf(["top-left","bottom-left","bottom-right","top-right"]),paginationProps:t.exact({size:t.oneOf(["small","default","large"]),rounded:t.bool,icons:t.bool,next:t.node,prev:t.node,firstAndLast:t.bool}),data:t.arrayOf(t.arrayOf(t.any)),children:(e,t,o)=>{const{[t]:n}=e,a=new Error(`Invalid prop \`${t}\` supplied to \`${o}\`. Validation failed, should be one of: ${s.join(", ")}.`);if(Array.isArray(n)){if(!n.every(e=>m(e.type)))return a}else if(n&&!m(n.type))return a;return null},start:t.number},p.defaultProps={pagination:r,paginationLocation:"bottom-right",paginationProps:{icons:!0,firstAndLast:!0},data:null,children:null,start:1};export default p;
