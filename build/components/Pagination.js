import e from"react";import t from"prop-types";import{_ as n,a,c as i}from"../tslib.es6-633881f1.js";var r=e.createContext(null),o=function(t){var n=t.content,a=t.position,i=t.active,o=void 0!==i&&i,l=t.disabled,s=void 0!==l&&l;return e.createElement(r.Consumer,null,(function(t){var i=t.changePage;return e.createElement("li",{className:o?"active":""},e.createElement("a",{className:s?"disabled":"",onClick:function(e){return i(e,a)}},n))}))};o.propTypes={active:t.bool,content:t.node.isRequired,disabled:t.bool,position:t.number.isRequired};var l=function(){var t=e.useContext(r),n=t.perPage,a=t.firstAndLast,i=t.position,l=t.icons,s=t.prev,c=t.beginAt,m=i<n+c,u=[];return l&&a&&u.push(e.createElement(o,{content:e.createElement("span",{className:"icon-chevron-left-double"}),disabled:m,key:"first-page",position:c})),u.push(e.createElement(o,{content:l?e.createElement("span",{className:"icon-chevron-left"}):s,disabled:m,key:"previous-page",position:i-n})),e.createElement(e.Fragment,null,u)},s=function(){var t=e.useContext(r),n=t.beginAt,a=t.perPage,i=t.total,l=t.firstAndLast,s=t.position,c=t.icons,m=t.next,u=Math.floor(i/a)+1,p=s>i-a+n,d=[];return d.push(e.createElement(o,{content:c?e.createElement("span",{className:"icon-chevron-right"}):m,disabled:p,key:"next-page",position:s+a})),c&&l&&d.push(e.createElement(o,{content:e.createElement("span",{className:"icon-chevron-right-double"}),disabled:p,key:"last-page",position:(u-1)*a+n})),e.createElement(e.Fragment,null,d)},c=function(t){var n=t.start,a=t.finish;return e.createElement(r.Consumer,null,(function(t){var r=t.perPage,l=t.active,s=t.beginAt;return i(Array(a-n+1)).map((function(t,a){var i=n+a;return e.createElement(o,{active:l===i,content:""+i,key:i+"-page",position:(i-1)*r+s})}))}))};c.propTypes={start:t.number.isRequired,finish:t.number.isRequired};var m=function(t){var i=t.beginAt,m=void 0===i?1:i,u=t.rounded,p=void 0!==u&&u,d=t.firstAndLast,g=void 0===d||d,v=t.icons,f=void 0!==v&&v,E=t.next,b=void 0===E?"Next":E,h=t.perPage,y=void 0===h?1:h,A=t.prev,N=void 0===A?"Previous":A,P=t.size,x=void 0===P?"default":P,k=t.className,C=void 0===k?null:k,q=t.position,R=t.total,F=t.onPageChange,L=n(t,["beginAt","rounded","firstAndLast","icons","next","perPage","prev","size","className","position","total","onPageChange"]),M=Math.ceil(R/y),z=Math.floor(q/y)+1;return e.createElement(r.Provider,{value:{active:z,beginAt:m,changePage:function(e,t){"function"==typeof F&&F(e,t)},firstAndLast:g,icons:f,next:b,perPage:y,position:q,prev:N,total:R}},e.createElement("ul",a({className:"pagination"+("default"!==x?" pagination--"+x:"")+(p?" pagination--rounded":"")+(C?" "+C:"")},L),e.createElement(l,null),z<4||4===M?e.createElement(e.Fragment,null,e.createElement(c,{start:1,finish:Math.min(M,4)}),M>4?e.createElement(e.Fragment,null,e.createElement("li",null,e.createElement("span",{className:"icon-more"})),e.createElement(o,{content:M,key:M+"-page",position:(M-1)*y+m})):null):e.createElement(e.Fragment,null,e.createElement(o,{active:z===m,content:"1",key:"1-page",position:m}),e.createElement("li",null,e.createElement("span",{className:"icon-more"})),z<M-2?e.createElement(e.Fragment,null,e.createElement(c,{start:z-1,finish:z+1}),e.createElement("li",null,e.createElement("span",{className:"icon-more"})),e.createElement(o,{active:z===M,content:M,key:M+"-page",position:(M-1)*y+m})):e.createElement(c,{start:M-3,finish:M})),e.createElement(s,null)))};m.propTypes={size:t.oneOf(["small","default","large"]),rounded:t.bool,icons:t.bool,next:t.node,prev:t.node,position:t.number.isRequired,perPage:t.number,total:t.number.isRequired,onPageChange:t.func.isRequired,firstAndLast:t.bool,beginAt:t.number,className:t.string};export{m as Pagination};
