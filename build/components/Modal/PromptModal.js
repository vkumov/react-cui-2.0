import{b as e,c as t}from"../../tslib.es6-4bca28b2.js";import n from"react";import{Input as l}from"../Input/index.js";import{DisplayIf as o}from"../Conditional.js";import{Button as a}from"../Button/index.js";import{ModalBody as r}from"./Body.js";import{ModalFooter as i}from"./Footer.js";import{Modal as s}from"./Modal.js";import"../InputHelpBlock.js";import"../../index-59462297.js";import"../../style-inject.es-1f59c1d0.js";import"react-dom";import"react-modal";import"./Header.js";function c(c){var m=this,u=c.title,p=c.question,d=c.onSave,f=c.onClose,b=c.initial,j=c.type,E=c.isOpen,y=c.hint,g=c.validate,h=n.useState(b),v=h[0],C=h[1],x=n.useState(!1),k=x[0],q=x[1],I=n.useCallback((function(){return e(m,void 0,void 0,(function(){var e;return t(this,(function(t){switch(t.label){case 0:return(e="function"==typeof g)?[4,g(v)]:[3,2];case 1:e=!t.sent(),t.label=2;case 2:return e?[2]:(q(!0),[4,d(v)]);case 3:return t.sent(),q(!1),f(),[2]}}))}))}),[f,d,v,g]);return n.useLayoutEffect((function(){return C(b)}),[b]),n.createElement(s,{isOpen:E,closeIcon:!0,closeHandle:f,title:u},n.createElement(r,null,n.createElement(l,{type:j,onChange:function(e){return C(e.target.value)},name:"promptInput",value:v,label:n.createElement(n.Fragment,null,p,n.createElement(o,{condition:!!y&&"string"==typeof y},n.createElement("span",{"data-balloon":y,"data-balloon-length":"large","data-balloon-pos":"up"},n.createElement("span",{className:"icon-question-circle qtr-margin-left",style:{cursor:"help"}}))))})),n.createElement(i,null,n.createElement(a,{color:"light",onClick:f,disabled:k},"Close"),n.createElement(a,{color:"primary",onClick:I,disabled:k},"OK",k?n.createElement("span",{className:"icon-animation spin qtr-margin-left"}):null)))}c.defaultProps={onClose:null,initial:null,type:"text",hint:null,validate:null};export{c as PromptModal};
