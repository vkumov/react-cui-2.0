import e from"react";import t from"prop-types";import{d as n,e as o}from"../../tslib.es6-633881f1.js";import"../../index-74b9c8d0.js";import"../../style-inject.es-1f59c1d0.js";import{Button as r}from"../Button.js";import"formik";import{DisplayIf as i}from"../Conditional.js";import"../InputHelpBlock.js";import{Input as l}from"../Input.js";import"react-dom";import{ModalBody as a}from"./Body.js";import{ModalFooter as s}from"./Footer.js";import{Modal as c}from"./Modal.js";import"react-modal";import"./Header.js";function m(t){var m=this,p=t.title,u=t.question,d=t.onSave,f=t.onClose,y=t.initial,b=t.type,j=t.isOpen,v=t.hint,E=t.validate,g=e.useState(y),h=g[0],q=g[1],C=e.useState(!1),k=C[0],I=C[1],O=e.useCallback((function(){return n(m,void 0,void 0,(function(){var e;return o(this,(function(t){switch(t.label){case 0:return(e="function"==typeof E)?[4,E(h)]:[3,2];case 1:e=!t.sent(),t.label=2;case 2:return e?[2]:(I(!0),[4,d(h)]);case 3:return t.sent(),I(!1),f(),[2]}}))}))}),[f,d,h,E]);return e.useLayoutEffect((function(){return q(y)}),[y]),e.createElement(c,{isOpen:j,closeIcon:!0,closeHandle:f,title:p},e.createElement(a,null,e.createElement(l,{type:b,form:{errors:{},touched:{},values:{promptInput:h}},field:{onChange:function(e){return q(e.target.value)},name:"promptInput",value:h},label:e.createElement(e.Fragment,null,u,e.createElement(i,{condition:!!v&&"string"==typeof v},e.createElement("span",{"data-balloon":v,"data-balloon-length":"large","data-balloon-pos":"up"},e.createElement("span",{className:"icon-question-circle qtr-margin-left",style:{cursor:"help"}}))))})),e.createElement(s,null,e.createElement(r,{color:"light",onClick:f,disabled:k},"Close"),e.createElement(r,{color:"primary",onClick:O,disabled:k},"OK",k?e.createElement("span",{className:"icon-animation spin qtr-margin-left"}):null)))}m.propTypes={title:t.node.isRequired,question:t.node.isRequired,onSave:t.func.isRequired,onClose:t.func,initial:t.oneOfType([t.string,t.number]),type:t.string,isOpen:t.bool.isRequired,hint:t.node,validate:t.func},m.defaultProps={onClose:null,initial:null,type:"text",hint:null,validate:null};export{m as PromptModal};
