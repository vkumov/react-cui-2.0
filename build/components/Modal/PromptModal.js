import{b as e,c as t}from"../../tslib.es6-a57c95d4.js";import n from"react";import{Input as r}from"../Input/index.js";import{DisplayIf as o}from"../Conditional.js";import{Button as a}from"../Button/index.js";import{ModalBody as l}from"./Body.js";import{ModalFooter as i}from"./Footer.js";import{Modal as c}from"./Modal.js";import"../InputHelpBlock.js";import"../../index-af0cb17c.js";import"../../eventManager-f62d060d.js";import"../../style-inject.es-1f59c1d0.js";import"react-dom";import"react-modal";import"./Header.js";function s(s){var m=this,u=s.title,p=s.question,f=s.onSave,d=s.onClose,E=s.initial,j=s.type,b=s.isOpen,v=s.hint,g=s.validate,y=n.useState(E),h=y[0],C=y[1],k=n.useState(!1),q=k[0],x=k[1],I=n.useCallback((function(){return e(m,void 0,void 0,(function(){var e;return t(this,(function(t){switch(t.label){case 0:return(e="function"==typeof g)?[4,g(h)]:[3,2];case 1:e=!t.sent(),t.label=2;case 2:return e?[2]:(x(!0),[4,f(h)]);case 3:return t.sent(),x(!1),d(),[2]}}))}))}),[d,f,h,g]);n.useEffect((function(){return C(E)}),[E]);var B=n.useRef(void 0);return n.useEffect((function(){b&&B.current&&B.current.focus()}),[b]),n.createElement(c,{isOpen:b,closeIcon:!0,closeHandle:d,title:u},n.createElement(l,null,n.createElement(r,{type:j,onChange:function(e){return C(e.target.value)},onKeyUp:function(e){"Enter"===e.key&&I()},name:"promptInput",value:h,label:n.createElement(n.Fragment,null,p,n.createElement(o,{condition:!!v&&"string"==typeof v},n.createElement("span",{"data-balloon":v,"data-balloon-length":"large","data-balloon-pos":"up"},n.createElement("span",{className:"icon-question-circle qtr-margin-left",style:{cursor:"help"}})))),ref:B})),n.createElement(i,null,n.createElement(a,{color:"light",onClick:d,disabled:q},"Close"),n.createElement(a,{color:"primary",onClick:I,disabled:q},"OK",q?n.createElement("span",{className:"icon-animation spin qtr-margin-left"}):null)))}export{s as PromptModal};
